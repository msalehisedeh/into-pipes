{"version":3,"sources":["ng://@sedeh/into-pipes/src/app/into-pipes/address/address.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/address/address.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/common/component.pool.ts","ng://@sedeh/into-pipes/src/app/into-pipes/address/addess-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/audio/audio.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/audio/audio.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/audio/audio-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/calendar/calendar.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/calendar/calendar-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/checkbox/checkbox.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/checkbox/checkbox-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/email/email.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/email/email.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/email/email-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/font/font.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/font/font.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/font/font-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/image/image.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/image/image.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/image/image-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/input/input.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/common/append.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/common/conditional.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/common/join.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/common/map.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/common/mask.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/common/prepend.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/common/sanitizeHtml.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/common/valueof.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/common/wrap.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/common/into.pipe.ts","node_modules/tslib/tslib.es6.js","ng://@sedeh/into-pipes/src/app/into-pipes/common/into.directive.ts","ng://@sedeh/into-pipes/src/app/into-pipes/common/common-pipes.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/input/input-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/inputgroup/input-group.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/inputgroup/inputgroup-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/json/json.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/json/json-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/lastupdate/lastupdate.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/lastupdate/lastupdate-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/like/like.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/like/like-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/link/link.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/link/link.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/link/link-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/phone/phone.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/phone/phone.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/phone/phone-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/rating/rating.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/rating/rating.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/rating/rating-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/select/select.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/select/select-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/share/share.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/share/share-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/span/span.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/span/span-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/text/text.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/text/text-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/table/table.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/table/table.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/table/table-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/video/video.component.ts","ng://@sedeh/into-pipes/src/app/into-pipes/video/video.pipe.ts","ng://@sedeh/into-pipes/src/app/into-pipes/video/video-pipe.module.ts","ng://@sedeh/into-pipes/src/app/into-pipes/pipe.module.ts"],"names":["AddressComponent","EventEmitter","prototype","transform","source","data","args","this","isLink","length","hasTarget","addr1","street","suite","addr2","city","zipcode","x","url","replace","keyup","event","code","which","stopPropagation","preventDefault","target","click","change","onIntoComponentChange","emit","id","name","value","item","type","Component","selector","template","AddressPipe","transformationMethod","content","callback","_this","_i","arguments","Array","result_1","map","push","addressFromString","Pipe","ComponentPool","registerPipeTransformation","pipe","registeredPipes","registeredForPipeTransformationNamed","key","undefined","registeredPipeTransformation","removePipeTransformation","registerComponent","component","registeredComponents","registeredForComponentWithNamed","registeredComponent","resolver","viewRefrence","el","result","componentFactory","resolveComponentFactory","componentRef","createComponent","domElem","rootNodes","appendChild","removeComponent","registerServiceForComponent","service","registeredServices","registeredServiceForComponent","registeredForServiceNamed","removeServiceForComponent","Injectable","AddressIntoPipeModule","pool","forRoot","ngModule","providers","NgModule","imports","CommonModule","declarations","exports","entryComponents","schemas","CUSTOM_ELEMENTS_SCHEMA","decorators","Inject","AudioComponent","console","log","autoplay","controls","duration","currentTime","ended","error","paused","muted","defaultMuted","volume","AudioPipe","stringToAudio","arrayToAudio","sources","AudioIntoPipeModule","CalendarComponent","renderer","popdatepicker","showCalendar","currentDate","Date","origDate","multiselect","selectedDays","generateCalendar","formatting","isSelected","date","index","i","selectedDate","isSameDay","isSelectedMonth","isSameMonth","toggleSelectedDates","day","found","splice","selected","selectDate","sort","a","b","prevMonth","getFullYear","getMonth","getDate","nextMonth","prevYear","nextYear","dates","fillDates","weeks","getYear","cm","tm","firstDay","firstOfMonth","getDay","firstDayOfGrid","start","list","d","today","Renderer","Output","CalendarIntoPipeModule","CheckboxComponent","invokeElementMethod","ideal","original","useFont","setTimeout","check","nativeElement","uncheck","String","Boolean","ViewChild","CheckboxIntoPipeModule","EmailComponent","EmailPipe","emailFromString","EmailIntoPipeModule","FontComponent","font","location","action","toLowerCase","FontPipe","fontFromString","FontIntoPipeModule","ImageComponent","width","height","alt","q","indexOf","t","substring","lastIndexOf","ImagePipe","stringToImage","arrayToImage","ImageIntoPipeModule","InputComponent","editName","oldValue","nameHolder","blur","keydown","nameEditor","clickName","placeholder","AppendPipe","ConditionalPipe","acondition","altAction","split","trim","match","filter","conditionFromString","JoinPipe","Object","keys","join","MapPipe","valuesFor","geMapping","mapping","map_1","MaskPipe","parseInt","maskString","visibleDigits","maskWith","maskedSection","slice","visibleSection","maskArray","items","PrependPipe","SanitizeHtmlPipe","_sanitizer","v","bypassSecurityTrustHtml","DomSanitizer","ValueOfPipe","valueOfSingle","valueOfMultiple","object","WrapPipe","pre","post","InToPipe","_transform","bind","__read","o","n","m","Symbol","iterator","r","e","call","ar","next","done","IntoDirective","viewRef","componentFactoryResolver","newArgs","transformComponent","apply","__spread","concat","intoId","intoName","registeredComponentFor","onComponentChange","subscribe","counter_1","sx","ngOnInit","into","rawContent","intoData","comp","Directive","ViewContainerRef","ElementRef","ComponentFactoryResolver","Input","CommonPipesModule","end","slicer","SlicePipe","cnt","numLocal","numDecimal","decimaler","DecimalPipe","cp","CurrencyPipe","lcp","LowerCasePipe","ucp","UpperCasePipe","jcp","JsonPipe","dateLocal","dater","DatePipe","InputIntoPipeModule","InputGroupComponent","checked","xitem","options","getDataFor","InputGroupIntoPipeModule","JsonComponent","JsonIntoPipeModule","LastUpdateComponent","showIcon","formatDate","week","month","year","diff","getTime","minutes","Math","floor","seconds","hours","days","months","years","LastUpdateIntoPipeModule","LikeComponent","showCount","thumbsup","thumbs","getItem","addItem","saved","localStorage","savedItems","JSON","parse","setItem","stringify","removeItem","formatterSource","toFixed","toggleCount","LikeIntoPipeModule","LinkComponent","title","LinkPipe","stringToLink","arrayToImagLink","LinkIntoPipeModule","PhoneComponent","normalizeSource","formattedSource","PhonePipe","phoneFromString","link","format","PhoneIntoPipeModule","RatingComponent","float","parseFloat","size","RatingPipe","rateString","RatingIntoPipeModule","SelectComponent","SelectIntoPipeModule","ShareComponent","shareInfo","address","icon","href","toggleShare","shouldDisplay","arg","shareList","ShareIntoPipeModule","SpanComponent","SpanIntoPipeModule","TextComponent","limit","focus","rows","counter","TextIntoPipeModule","TableComponent","getHeaders","headers","obj","TablePipe","buildTable","header","row","TableIntoPipeModule","VideoComponent","VideoPipe","stringToVideo","arrayToVideo","VideoIntoPipeModule","IntoPipeModule"],"mappings":"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","sourcesContent":["import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'address-component',\r\n    template: `\r\n    <a *ngIf=\"isLink\" \r\n        [href]=\"url\" \r\n        [target]=\"hasTarget ? '_blank' : null\"\r\n        class=\"google-map\" \r\n        (keyup)='keyup($event)' \r\n        (click)=\"change($event)\">\r\n        <span class=\"fa fa-map-marker\" aria-hidden=\"true\"></span>\r\n        <span class=\"off-screen\">View in google map</span>\r\n        <span class=\"address\" [textContent]=\"addr1\"></span>\r\n        <span class=\"address\" [textContent]=\"addr2\"></span>\r\n    </a>\r\n    <span *ngIf=\"!isLink\" class=\"google-map\">\r\n        <span class=\"fa fa-map-marker\" aria-hidden=\"true\"></span>\r\n        <span class=\"address\" [textContent]=\"addr1\"></span>\r\n        <span class=\"address\" [textContent]=\"addr2\"></span>\r\n    </span>\r\n    `,\r\n    styles: [\r\n        `.address {float: left;margin-right: 4px;}\r\n        .google-map {float: left;margin-right: 4px;}\r\n        .fa {float:left;color: #f00;margin: 0 5px;}\r\n        .off-screen {position: absolute;left: -999em;}\r\n        :host a:hover .fa-map-marker{color: #fabdab;}\r\n        :host span{float-left;}\r\n        :host {display: table;float:left;min-height: 23px}\r\n        `\r\n    ]\r\n})\r\nexport class AddressComponent implements PipeComponent {\r\n    url: string;\r\n    source: string;\r\n    id: string;\r\n    isLink: boolean;\r\n\tname: string;\r\n    addr1: string;\r\n    addr2: string;\r\n    hasTarget: boolean;\r\n\tonIntoComponentChange = new EventEmitter();\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n        this.source= source;\r\n        this.isLink= args.length ? args[0] : true;\r\n        this.hasTarget = args.length > 1 ? args[1] : false;\r\n        this.addr1 = source.street + ', ' + source.suite;\r\n        this.addr2 = source.city + ', ' + source.zipcode;\r\n\r\n        if (this.isLink) {\r\n            const x = \"https://maps.google.com/?q=\" + source.street + \", \" + this.addr2 +\"&ie=UTF-8\";\r\n            this.url = x.replace(\"\\\\s+\", \"+\");\r\n        }\r\n    }\r\n    keyup(event: any) {\r\n        const code = event.which;\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n    \r\n        if (code === 13) {\r\n            event.target.click();\r\n        }\r\n    }\r\n    change(event: any) {\r\n        this.onIntoComponentChange.emit({\r\n            id: this.id,\r\n            name: this.name,\r\n            value: this.source,\r\n            item: event.type\r\n        });\r\n    }\r\n}\r\n","/*\r\n* Defines a filter to convert url into an address display.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'address' })\r\nexport class AddressPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function (content: any, args: string[], callback?: any, data?: any) {\r\n            return new AddressPipe().transform(content, args.length > 1 ? args[1]==='true' : true); \r\n        };\r\n        return x;\r\n    }\r\n    transform(source: any, ...args: any[]): any {\r\n        const isLink= args.length ? args[0] : true;\r\n        const hasTarget = args.length > 1 ? args[1] : false;\r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return this.addressFromString(source, isLink, hasTarget);\r\n        } else {\r\n            const result = [];\r\n            source.map((item) => {\r\n                result.push(this.addressFromString(item, isLink, hasTarget));\r\n            });\r\n            return result;\r\n        }\r\n    }\r\n    private addressFromString(source: any, isLink: boolean, hasTarget: boolean) {\r\n        if (isLink) {\r\n            let url = \"https://maps.google.com/?q=\" + \r\n            source.street + \", \" + source.city + \", \" + source.zipcode +\"&ie=UTF-8\";\r\n            url = url.replace(\"\\\\s+\", \"+\");\r\n\r\n            return \"<a href=\\'\" + url + \"\\' \" + \r\n                    (hasTarget ? \"target='_blank'\" : \"\") + \r\n                    \"class='google-map'><span class='fa fa-map-marker' aria-hidden='true'>\" +\r\n                    \"</span><span class='off-screen'>View in google map</span><span class='address'>\" +\r\n                    source.street + \", \" + source.suite + \"</span>\" +\r\n                    \"<span class='address'> \" + source.city +\", \" + source.zipcode + \"</span></a>\";\r\n        }\r\n        return \"<span class='google-map'><span class='fa fa-map-marker' style='margin: 0 5px' aria-hidden='true'>\" +\r\n                \"</span><span class='address'>\" + source.street + \", \" + source.suite + \"</span>\" +\r\n                \"<span class='address'> \" + source.city +\", \" + source.zipcode + \"</span></span>\";\r\n    }\r\n}\r\n","\nimport {\n\tInjectable, \n\tComponentRef, \n\tComponentFactoryResolver, \n\tViewContainerRef,\n\tEmbeddedViewRef\n} from '@angular/core';\n\nimport { PipeComponent } from './pipe.component';\n\n@Injectable()\nexport class ComponentPool {\n\tprivate registeredPipes= {};\n\tprivate registeredComponents= {};\n\tprivate registeredServices= {};\n\n\tregisterPipeTransformation (name: string, pipe: any) {\n\t\tthis.registeredPipes[name] = pipe;\n\t}\n\tregisteredForPipeTransformationNamed(key: string) {\n\t\treturn this.registeredPipes[key] !== undefined;\n\t}\n\tregisteredPipeTransformation(key: string, content: any, args: string[], callback?: any, data?: any) {\n        const pipe = this.registeredPipes[key];\n        \n        return pipe ? pipe(content, args, callback, data) : null;\n\t}\n\tremovePipeTransformation (key: string) {\n\t\tdelete this.registeredPipes[key];\n\t}\n\n\tregisterComponent (name: string, component: any) {\n\t\tthis.registeredComponents[name] = component;\n\t}\n\tregisteredForComponentWithNamed(name: string) {\n\t\treturn this.registeredComponents[name] !== undefined;\n\t}\n\tregisteredComponent(\n\t\tname: string,\n\t\tresolver: ComponentFactoryResolver,\n\t\tviewRefrence: ViewContainerRef,\n\t\tel: HTMLElement): PipeComponent {\n\t\tconst component =  this.registeredComponents[name];\n\t\tlet result: PipeComponent = null;\n\t\t\n        if (component) {\n\t\t\tlet componentFactory = resolver.resolveComponentFactory(component);\n\t\t\tconst componentRef: ComponentRef<any> = viewRefrence.createComponent(componentFactory);\n\t\t\tconst domElem = (componentRef.hostView as EmbeddedViewRef < any > ).rootNodes[0] as HTMLElement;\n\t\t\tel.appendChild(domElem);\n\t\t\tresult = (<PipeComponent>componentRef.instance);\n        }\n        return  result;\n\t}\n\tremoveComponent (name: string) {\n\t\tdelete this.registeredComponents[name];\n\t}\n\n\tregisterServiceForComponent (name: string, service: any) {\n\t\tthis.registeredServices[name] = service;\n\t}\n\tregisteredServiceForComponent(name: string): any {\n\t\treturn this.registeredServices[name];\n\t}\n\tregisteredForServiceNamed(name: string) {\n\t\treturn this.registeredServices[name] !== undefined;\n\t}\n\tremoveServiceForComponent (name: string) {\n\t\tdelete this.registeredServices[name];\n\t}\n}","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AddressComponent } from './address.component';\r\nimport { AddressPipe } from './address.pipe';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [AddressComponent, AddressPipe],\r\n  exports: [AddressComponent, AddressPipe],\r\n  entryComponents: [AddressComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class AddressIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: AddressIntoPipeModule,\r\n      providers: [\r\n        AddressPipe\r\n      ]\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool) pool: ComponentPool) {\r\n    pool.registerComponent('address', AddressComponent);\r\n    pool.registerPipeTransformation('address', AddressPipe.transformationMethod());\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'audio-component',\r\n    template: `\r\n    <audio [src]=\"source\" \r\n        (playing)=\"change($event)\"\r\n        (ended)=\"change($event)\"\r\n        (pause)=\"change($event)\"\r\n        (seeked)=\"change($event)\"\r\n        (error)=\"change($event)\"\r\n        controls=\"true\">Your browser does not support the audio element.</audio>`,\r\n    styles: [`\r\n    :host {display:table;float:left;min-height: 23px}\r\n    `]\r\n})\r\nexport class AudioComponent implements PipeComponent {\r\n    source: string;\r\n\tid: string;\r\n\tname: string;\r\n\tonIntoComponentChange = new EventEmitter();\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n        this.source = source;\r\n    }\r\n\r\n    change(event: any) {\r\n        console.log(event)\r\n        this.onIntoComponentChange.emit({\r\n            id: this.id,\r\n            name: this.name,\r\n            value: this.source,\r\n            type: event.type,\r\n            item: {\r\n                autoplay: event.target.autoplay,\r\n                controls: event.target.controls,\r\n                duration: event.target.duration,\r\n                currentTime: event.target.currentTime,\r\n                ended: event.target.ended,\r\n                error: event.target.error,\r\n                paused: event.target.paused,\r\n                muted: event.target.muted,\r\n                defaultMuted: event.target.defaultMuted,\r\n                volume: event.target.volume\r\n            }\r\n        });\r\n    }\r\n}\r\n","/*\r\n* Defines a filter to convert url into an image display. \r\n* if transforming object is an array, all elements in the array will be transformed and the resulting array will be returned.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'audio' })\r\nexport class AudioPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function (content: any, args: string[], callback?: any, data?: any) {\r\n            return new AudioPipe().transform(content, args.length > 1 ? args[1]==='true' : true); \r\n        };\r\n        return x;\r\n    }\r\n\r\n    stringToAudio(source) {\r\n        return \"<audio src=\\'\"+source+\"\\' controls=\\'true\\' />\";\r\n    }\r\n    arrayToAudio(sources) {\r\n        const result = [];\r\n        sources.map((source) => {\r\n            result.push(this.stringToAudio(source));\r\n        });\r\n        return result;\r\n    }\r\n    transform(source: any, ...args: any[]): any {\r\n       if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return this.stringToAudio(source);\r\n        }\r\n        return this.arrayToAudio(source);\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AudioComponent } from './audio.component';\r\nimport { AudioPipe } from './audio.pipe';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [AudioComponent, AudioPipe],\r\n  exports: [AudioComponent, AudioPipe],\r\n  entryComponents: [AudioComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class AudioIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: AudioIntoPipeModule,\r\n      providers: [\r\n        AudioPipe\r\n      ]\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('audio', AudioComponent);\r\n    pool.registerPipeTransformation('audio', AudioPipe.transformationMethod());\r\n  }\r\n}\r\n","/* calendar code is copied from \"ben tedder\" \r\n* http://www.bentedder.com/create-calendar-grid-component-angular-4/\r\n*/\r\nimport { Component, ViewChild, Renderer, Output, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\nexport interface CalendarDate {\r\n    date: Date;\r\n    selected?: boolean;\r\n    today?: boolean;\r\n  }\r\n  \r\n@Component({\r\n    selector: 'calendar-component',\r\n    template: `\r\n    <span class=\"calendar-box\">\r\n      <span class=\"date\" [textContent]=\"origDate | date:formatting\"></span>\r\n      <a tabindex=\"0\" class=\"popper\" (keyup)=\"keyup($event)\" (click)=\"popdatepicker($event)\">\r\n          <span class=\"fa fa-calendar\" aria-hidden=\"true\"></span>\r\n          <span class=\"off-screen\">Pick a date</span>\r\n      </a>\r\n    </span>\r\n    <div class=\"calendar\" *ngIf=\"showCalendar\">\r\n\t\t<div class=\"calendar-navs\">\r\n\t\t\t<div class=\"month-nav\">\r\n                <button (click)=\"prevMonth($event)\">\r\n                    <span class=\"fa fa-chevron-left\"></span>\r\n                    <span class=\"off-screen\">Back a month</span>\r\n                </button>\r\n\t\t\t\t<span class=\"p4\">{{ currentDate | date:'MMMM' }}</span>\r\n                <button (click)=\"nextMonth($event)\">\r\n                    <span class=\"fa fa-chevron-right\"></span>\r\n                    <span class=\"off-screen\">Forward a month</span>\r\n                </button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"year-nav\">\r\n                <button (click)=\"prevYear($event)\">\r\n                    <span class=\"fa fa-chevron-left\"></span>\r\n                    <span class=\"off-screen\">Back a year</span>\r\n                </button>\r\n\t\t\t\t<span>{{ currentDate | date: 'yyyy' }}</span>\r\n                <button (click)=\"nextYear($event)\">\r\n                    <span class=\"fa fa-chevron-right\"></span>\r\n                    <span class=\"off-screen\">Forward a year</span>\r\n                </button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"month-grid\">\r\n\t\t\t<div class=\"day-names\">\r\n\t\t\t\t<div *ngFor=\"let name of dayNames\" class=\"day-name p9\">{{ name }}</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"weeks\">\r\n\t\t\t\t<div *ngFor=\"let week of weeks\" class=\"week\">\r\n\t\t\t\t\t<ng-container *ngFor=\"let day of week\">\r\n\t\t\t\t\t\t<div class=\"week-date disabled\" *ngIf=\"!isSelectedMonth(day.date)\">\r\n\t\t\t\t\t\t\t<span class=\"date-text\">{{ day.date.getDate() }}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"week-date enabled\"\r\n                           *ngIf=\"isSelectedMonth(day.date)\"\r\n                           tabindex=\"0\"\r\n                           (keyup)=\"keyup($event)\"\r\n\t\t\t\t\t\t   (click)=\"selectDate($event, day)\"\r\n\t\t\t\t\t\t   [class.today]=\"day.today\"\r\n\t\t\t\t\t\t   [class.selected]=\"day.selected\">\r\n\t\t\t\t\t\t\t<span class=\"date-text\">{{ day.date.getDate() }}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ng-container>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n    `,\r\n    styles: [\r\n        `\r\n        :host {display:table;float:left;min-height: 23px}\r\n        .popper .fa-calendar{display: inline-block;margin: 0 5px}\r\n        .popper:hover .fa-calendar{color: #fabdab}\r\n        .calendar-box {\r\n          display: flex;\r\n          flex-direction: row;\r\n          cursor: default;\r\n          width: 100%;\r\n          display: inline-block;\r\n        }\r\n        .calendar-box date {flex: 1;}\r\n        .calendar-box .popper {cursor: pointer;flex: 0 0 15px}\r\n        .calendar {\r\n            display: table;\r\n            width: 210px;\r\n            position: absolute;\r\n            background-color: #fff;\r\n            z-index: 2;\r\n            border: 1px solid #ddd;\r\n            border-radius: 4px;\r\n        }\r\n        .calendar * {\r\n            box-sizing: border-box;\r\n        }\r\n        .calendar .calendar-navs {\r\n            background-color: whitesmoke;\r\n        }\r\n        .calendar .month-nav {\r\n            padding: 2px;\r\n            display: flex;\r\n            flex-direction: row;\r\n            justify-content: space-between;\r\n        }\r\n        .calendar .year-nav {\r\n            padding: 2px;\r\n            display: flex;\r\n            flex-direction: row;\r\n            justify-content: space-between;\r\n        }\r\n        .calendar .month-nav button,\r\n        .calendar .year-nav button {\r\n            border: 0;\r\n            background: transparent;\r\n            cursor: pointer;\r\n        }\r\n        .calendar .month-nav button:hover,\r\n        .calendar .year-nav button:hover {\r\n            color: red;\r\n        }\r\n        .calendar .month-grid .day-names {\r\n            display: flex;\r\n            flex-direction: row;\r\n            background: whitesmoke;\r\n            border-bottom-right-radius: 3px;\r\n            border-bottom-left-radius: 3px;\r\n        }\r\n        .calendar .month-grid .weeks {\r\n            display: flex;\r\n            flex-direction: column;\r\n        }\r\n        .calendar .month-grid .week {\r\n            display: flex;\r\n            flex-direction: row;\r\n        }\r\n        .calendar .month-grid .day-names {\r\n            border-top: 1px dotted #ddd;\r\n            border-bottom: 1px dashed #ddd;\r\n        }\r\n        .calendar .month-grid .week-date,\r\n        .calendar .month-grid .day-name {\r\n            text-align: center;\r\n            padding: 2px;\r\n            display: block;\r\n            width: 30px;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n        }\r\n        .calendar .month-grid .week-date {\r\n            height: 30px;\r\n            position: relative;\r\n            padding: 5px;\r\n        }\r\n        .calendar .month-grid .week-date .date-text {\r\n            font-size: 10px;\r\n            z-index: 10;\r\n        }\r\n        .calendar .month-grid .week-date::after {\r\n            content: '';\r\n            height: 24px;\r\n            width: 24px;\r\n            position: absolute;\r\n            top: 50%;\r\n            left: 50%;\r\n            transform: translate(-50%, -50%);\r\n            border-radius: 50%;\r\n            transition: background-color 150ms linear, color 150ms linear;\r\n            z-index: 1;\r\n        }\r\n        .calendar .month-grid .week-date.disabled {color: #aaa;}\r\n        .calendar .month-grid .week-date.enabled {\r\n            cursor: pointer;\r\n        }\r\n        .calendar .month-grid .week-date.enabled:focus {\r\n            outline: 0;\r\n        }\r\n        .calendar .month-grid .week-date.enabled:hover .date-text,\r\n        .calendar .month-grid .week-date.enabled:focus .date-text {\r\n            font-weight: bold;\r\n            color: blue;\r\n        }\r\n        .calendar .month-grid .week-date.enabled:hover::after,\r\n        .calendar .month-grid .week-date.enabled:focus::after {\r\n            background-color: whitesmoke;\r\n        }\r\n        .calendar .month-grid .week-date.selected .date-text {\r\n            color: #fff !important;\r\n        }\r\n        .calendar .month-grid .week-date.selected::after{\r\n            background-color: blue !important;\r\n        }\r\n        .calendar .month-grid .week-date.today::after {\r\n            background-color: lightblue;\r\n            font-weight: bold;\r\n            color: #fff;\r\n        }\r\n        `\r\n    ]\r\n})\r\nexport class CalendarComponent implements PipeComponent {\r\n\r\n  source: string;\r\n  id: string;\r\n  name: string;\r\n  item: any;\r\n  showCalendar = false;\r\n  formatting:string;\r\n  editName = false;\r\n  multiselect = false;\r\n\r\n  origDate: Date;\r\n  currentDate: Date;\r\n  dayNames = ['S', 'M', 'T', 'W', 'T', 'F', 'S'];\r\n  weeks: CalendarDate[][] = [];\r\n  selectedDays: Date[] = [];\r\n\r\n  @Output(\"onIntoComponentChange\")\r\n  onIntoComponentChange = new EventEmitter();\r\n\r\n  constructor(private renderer: Renderer) {\r\n\r\n  }\r\n\r\n  keyup(event) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    const code = event.which;\r\n    if (code === 13) {\r\n        event.target.click();\r\n    }\r\n  }\r\n  popdatepicker(event) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    this.showCalendar = !this.showCalendar;\r\n  }\r\n\r\n  transform(source: any, data: any, args: any[]) {\r\n    this.source= source;\r\n    this.currentDate = new Date();\r\n    this.origDate = new Date();\r\n\r\n    if (source instanceof Array) {\r\n        this.multiselect = true;\r\n        source.map( (item) => {\r\n            this.selectedDays.push(new Date(item));\r\n        })\r\n    } else {\r\n        this.multiselect = false;\r\n        this.selectedDays.push(new Date(this.source));\r\n    }\r\n    this.item = data;\r\n    this.generateCalendar();\r\n    this.formatting= args.length ? args[0] : \"\";\r\n  }\r\n\r\n  isSelected(date: Date): boolean {\r\n      let index = -1;\r\n      for (let i = 0; i < this.selectedDays.length; i++) {\r\n          const selectedDate: Date = this.selectedDays[i];\r\n          if (this.isSameDay(date, selectedDate)) {\r\n            index = i;\r\n          }\r\n      }\r\n    return index > -1;\r\n  }\r\n\r\n  isSelectedMonth(date: Date): boolean {\r\n    return this.isSameMonth(date, this.currentDate);\r\n  }\r\n\r\n  toggleSelectedDates(day: CalendarDate) {\r\n      let found = false;\r\n      if (this.multiselect) {\r\n        for (let i = 0; i < this.selectedDays.length; i++) {\r\n            const date: Date = this.selectedDays[i];\r\n            if (this.isSameDay(day.date, date)) {\r\n                this.selectedDays.splice(i,1);\r\n                found = true;\r\n                day.selected = false;\r\n                break;\r\n            }\r\n          }\r\n          if(!found) {\r\n              this.selectedDays.push(day.date);\r\n              day.selected = true;\r\n          }\r\n      } else {\r\n        this.selectedDays = [day.date];\r\n        day.selected = true;\r\n      }\r\n  }\r\n  selectDate(event, day: CalendarDate): void {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    this.origDate = day.date;\r\n    this.currentDate = day.date;\r\n    this.toggleSelectedDates( day );\r\n\r\n    this.selectedDays.sort( (a, b) => {\r\n        return a > b ? -1 : 1;\r\n    });\r\n    this.onIntoComponentChange.emit({\r\n        id: this.id,\r\n        name: this.name,\r\n        value: this.selectedDays,\r\n        item: this.item\r\n    });\r\n    this.showCalendar = false;\r\n    this.generateCalendar();\r\n  }\r\n\r\n  // actions from calendar\r\n  prevMonth(event): void {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    this.currentDate = new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()-1, this.currentDate.getDate());\r\n    this.generateCalendar();\r\n  }\r\n\r\n  nextMonth(event): void {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    this.currentDate = new Date(this.currentDate.getFullYear(),this.currentDate.getMonth()+1, this.currentDate.getDate());\r\n    this.generateCalendar();\r\n  }\r\n\r\n  prevYear(event): void {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    this.currentDate = new Date(this.currentDate.getFullYear()-1,this.currentDate.getMonth(), this.currentDate.getDate());\r\n    this.generateCalendar();\r\n  }\r\n\r\n  nextYear(event): void {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    this.currentDate = new Date(this.currentDate.getFullYear()+1,this.currentDate.getMonth(), this.currentDate.getDate());\r\n    this.generateCalendar();\r\n  }\r\n\r\n    // generate the calendar grid\r\n    generateCalendar(): void {\r\n        const dates = this.fillDates(this.currentDate);\r\n        const weeks: CalendarDate[][] = [];\r\n        while (dates.length > 0) {\r\n        weeks.push(dates.splice(0, 7));\r\n        }\r\n        this.weeks = weeks;\r\n    }\r\n    private isSameDay(a: Date, b: Date) {\r\n        return a.getFullYear() === b.getFullYear() && \r\n            a.getMonth() === b.getMonth() && \r\n            a.getDate() === b.getDate();\r\n    }\r\n    private isSameMonth(a, b) {\r\n        return a.getYear() === b.getYear() && \r\n            a.getMonth() === b.getMonth();\r\n    }\r\n\r\n    fillDates(currentDate: Date): CalendarDate[] {\r\n        const cm = new Date(currentDate);\r\n        const tm = new Date();\r\n        const firstDay = new Date(cm.getFullYear(), cm.getMonth(), 1)\r\n        const firstOfMonth = firstDay.getDay();\r\n        const firstDayOfGrid = new Date(firstDay.getFullYear(), firstDay.getMonth(), firstDay.getDate() - firstOfMonth);\r\n        const start = firstDayOfGrid.getDate();\r\n        const list = [];\r\n        for (let i = start; i< (start + 42);i++){\r\n            const d = new Date(firstDayOfGrid.getFullYear(), firstDayOfGrid.getMonth(), i);\r\n            list.push({\r\n                today: this.isSameDay(tm, d),\r\n                selected: this.isSelected(d),\r\n                date: d\r\n            });\r\n        }\r\n        return list;\r\n    }\r\n}\r\n\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { CalendarComponent } from './calendar.component';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [CalendarComponent],\r\n  exports: [CalendarComponent],\r\n  entryComponents: [CalendarComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class CalendarIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: CalendarIntoPipeModule,\r\n      providers: [\r\n      ]\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('calendar', CalendarComponent);\r\n  }\r\n}\r\n","import { Component, ViewChild, Renderer, Output, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'checkbox-component',\r\n    template: `\r\n    <span *ngIf=\"useFont\" class=\"check-font\">\r\n      <span *ngIf=\"source === ideal\" #check tabindex=\"0\" class=\"fa fa-check\" (keyup)=\"keyup($event)\" (click)=\"click($event)\"></span>\r\n      <span *ngIf=\"source !== ideal\" #uncheck tabindex=\"0\" class=\"fa fa-close\" (keyup)=\"keyup($event)\" (click)=\"click($event)\"></span>\r\n    </span>\r\n    <input *ngIf=\"!useFont\" \r\n            type=\"checkbox\" \r\n            tabindex=\"0\" \r\n            [value]=\"source\" \r\n            [checked]=\"source===ideal ? true : null\" \r\n            (keyup)=\"keyup($event)\"\r\n            (click)=\"click($event)\" />\r\n    `,\r\n    styles: [\r\n        `\r\n        :host .check-font .fa{margin: 0 5px}\r\n        :host {display:table;float:left;min-height: 23px}\r\n        .check-font:hover{color: #fabdab;}\r\n        .check-font {cursor: pointer;}\r\n        `\r\n    ]\r\n})\r\nexport class CheckboxComponent implements PipeComponent {\r\n\r\n  data: any;\r\n  source: string;\r\n  original: string;\r\n  ideal: string;\r\n  id: string;\r\n  name: string;\r\n  useFont: boolean;\r\n\r\n  @ViewChild(\"check\")\r\n  check;\r\n\r\n  @ViewChild(\"uncheck\")\r\n  uncheck;\r\n\r\n  @Output(\"onIntoComponentChange\")\r\n  onIntoComponentChange = new EventEmitter();\r\n\r\n  constructor(private renderer: Renderer) {}\r\n\r\n  keyup(event) {\r\n    const code = event.which;\r\n    if (code === 13) {\r\n      this.renderer.invokeElementMethod(event.target, \"click\");\r\n\t\t}\r\n  }\r\n\r\n  click(event) {\r\n    const input = event.target;\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    if (this.source === this.ideal) {\r\n      this.source = this.original;\r\n\t\t} else {\r\n      this.source = this.ideal;\r\n    }\r\n    this.onIntoComponentChange.emit({\r\n      id: this.id,\r\n      name: this.name,\r\n      value: this.source,\r\n      item: this.data\r\n    });\r\n    if (this.useFont) {\r\n      setTimeout(() => {\r\n        if (this.check) {\r\n          this.renderer.invokeElementMethod(this.check.nativeElement, \"focus\");\r\n        }\r\n        if (this.uncheck) {\r\n          this.renderer.invokeElementMethod(this.uncheck.nativeElement, \"focus\");\r\n        }\r\n      },66);\r\n    }\r\n  }\r\n\r\n  transform(source: any, data: any, args: any[]) {\r\n    this.ideal= args.length ? String(args[0]) : \"\";\r\n    this.useFont= args.length > 1 ? Boolean(args[1]) : false;\r\n    this.source= String(source);\r\n    this.data = data;\r\n    this.original= this.source === this.ideal ? \"\" : source;\r\n  }\r\n}\r\n\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { CheckboxComponent } from './checkbox.component';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [CheckboxComponent],\r\n  exports: [CheckboxComponent],\r\n  entryComponents: [CheckboxComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class CheckboxIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: CheckboxIntoPipeModule,\r\n      providers: [\r\n      ]\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('checkbox', CheckboxComponent);\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'email',\r\n    template: `\r\n    <a *ngIf=\"isLink\" [href]=\"'mailto:' + source\" (keyup)='keyup($event)' (click)=\"change($event)\">\r\n        <span class='fa fa-envelope' aria-hidden='true'></span>\r\n        <span [textContent]=\"source\"></span>\r\n    </a>\r\n    <span *ngIf=\"!isLink\">\r\n        <span class='fa fa-envelope' aria-hidden='true'></span>\r\n        <span [textContent]=\"source\"></span>\r\n    </span>\r\n    `,\r\n    styles: [\r\n        `\r\n        :host {display:table;float:left;min-height: 23px}\r\n        :host:hover .fa-envelope{color: #fabdab;}\r\n        :host .fa{margin: 0 5px;}\r\n        `\r\n    ]\r\n})\r\nexport class EmailComponent implements PipeComponent {\r\n    source: string;\r\n\tid: string;\r\n    name: string;\r\n    isLink: boolean;\r\n\tonIntoComponentChange = new EventEmitter();\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n        this.isLink= args.length ? args[0] : true;\r\n        this.source = source;\r\n    }\r\n    keyup(event: any) {\r\n        const code = event.which;\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n    \r\n        if (code === 13) {\r\n            event.target.click();\r\n        }\r\n    }\r\n    change(event: any) {\r\n        this.onIntoComponentChange.emit({\r\n            id: this.id,\r\n            name: this.name,\r\n            value: this.source,\r\n            item: event.type\r\n        });\r\n    }\r\n}\r\n","/*\r\n* Defines a filter to convert url into an email display.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'email' })\r\nexport class EmailPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function  (content: any, args: string[], callback?: any, data?: any) {\r\n            // email\r\n            return new EmailPipe().transform(content, args.length > 1 ? args[1]==='true' : true); \r\n        };\r\n        return x;\r\n    }\r\n\r\n    emailFromString(source: string, isLink: boolean) {\r\n        let x: string;\r\n        if (isLink) {\r\n            x = \"<a href=\\'mailto:\"+source+\"\\' ><span class='fa fa-envelope' aria-hidden='true'></span><span>\" + source + \"</span></a>\";\r\n        } else {\r\n            x = \"<span><span class='fa fa-envelope' style='margin: 0 5px' aria-hidden='true'></span><span>\" + source + \"</span></span>\";\r\n        }\r\n        return x;\r\n    }\r\n    transform(source: any, ...args: any[]): any {\r\n        const isLink= args.length ? args[0] : true;\r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return this.emailFromString(source, isLink);\r\n        } else {\r\n            const result = [];\r\n            source.map((item) => {\r\n                result.push(this.emailFromString(item, isLink));\r\n            });\r\n            return result;\r\n        } \r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { EmailComponent } from './email.component';\r\nimport { EmailPipe } from './email.pipe';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [EmailComponent, EmailPipe],\r\n  exports: [EmailComponent, EmailPipe],\r\n  entryComponents: [EmailComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n}) \r\n\r\nexport class EmailIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: EmailIntoPipeModule,\r\n      providers: [EmailPipe]\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('email', EmailComponent);\r\n    pool.registerPipeTransformation('email', EmailPipe.transformationMethod());\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'font-component',\r\n    template: `\r\n        <span *ngIf=\"location === 'left'\"    [class]=\"font\" aria-hidden='true'></span>\r\n        <span *ngIf=\"location !== 'replace'\" [textContent]=\"content\"></span>\r\n        <span *ngIf=\"location === 'right'\"   [class]=\"font\" aria-hidden='true'></span>\r\n        <span *ngIf=\"location === 'replace'\" [class]=\"font\" aria-hidden='true'></span>\r\n    `,\r\n    styles: [\r\n        `\r\n        :host {display:table;float:left;min-height: 23px}\r\n        :host span {\r\n            float: left;\r\n            margin: 0 5px;\r\n        }\r\n        `\r\n    ]\r\n})\r\nexport class FontComponent implements PipeComponent {\r\n    font: string;\r\n    location: string;\r\n    source: string;\r\n\tid: string;\r\n\tname: string;\r\n    content: string;\r\n\tonIntoComponentChange: EventEmitter<any>;\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n        this.source = source;\r\n        this.font = args[0];\r\n        this.location = args.length > 1 ? args[1] : \"left\";\r\n        const action = args.length > 2 ? args[2].toLowerCase() : \"\";\r\n        this.content = action === \"*\" ? source : (\"replace\" === action.toLowerCase() ? \"\" : source);\r\n    }\r\n}\r\n","/*\r\n* Defines a filter to convert url into an email display.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'font' })\r\nexport class FontPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function  (content: any, args: string[], callback?: any, data?: any) {\r\n            // font:fa fa-check:left:*\r\n            return new FontPipe().transform(content, args.length > 1 ? args[1] : \"\", args.length > 2 ? args[2] : \"\", args.length > 3 ? args[3] : \"\"); \r\n        };\r\n        return x;\r\n    }\r\n\r\n    fontFromString(font, location, action, content) {\r\n        return (location === \"left\" ? \r\n                (font + content) : \r\n                ((location === \"right\") ? content + font : font));\r\n    }\r\n    transform(source: any, ...args: any[]): any {\r\n        const font = args.length ? \"<span class=\\'\" + args[0] + \"\\' style='margin: 0 5px' aria-hidden='true'></span>\" : \"\";\r\n        const location = args.length > 1 ? args[1] : \"\";\r\n        const action = args.length > 2 ? args[2].toLowerCase() : \"\";\r\n        const content = action === \"*\" ? source : (\"replace\" === action.toLowerCase() ? \"\" : source);\r\n        \r\n        if ((typeof content === \"string\") || !(content instanceof Array)) {\r\n            return this.fontFromString(font, location, action, content);\r\n        } else {\r\n            const result = [];\r\n            source.map((item) => {\r\n                result.push(this.fontFromString(font, location, action, item));\r\n            });\r\n            return result;                \r\n        }\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FontComponent } from './font.component';\r\nimport { FontPipe } from './font.pipe';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [FontComponent, FontPipe],\r\n  exports: [FontComponent, FontPipe],\r\n  entryComponents: [FontComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class FontIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: FontIntoPipeModule,\r\n      providers: [FontPipe]\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('font', FontComponent);\r\n    pool.registerPipeTransformation('font', FontPipe.transformationMethod());\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'image-component',\r\n    template: `\r\n        <img [src]=\"source\" \r\n             [style.width]=\"width\" \r\n             [style.height]=\"height\" \r\n             [title]=\"alt\" \r\n             (mouseleave)=\"change($event)\"\r\n             (mouseenter)=\"change($event)\" />`,\r\n    styles: [`\r\n    :host {display:table;float:left;min-height: 23px}\r\n    `]\r\n})\r\nexport class ImageComponent implements PipeComponent {\r\n    source: string;\r\n\tid: string;\r\n\tname: string;\r\n    width: string;\r\n    height: string;\r\n    alt: string;\r\n\tonIntoComponentChange = new EventEmitter();\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n\r\n        this.source = source;\r\n        this.width = (args && args.length) ? args[0] : \"\";\r\n        this.height = (args && args.length > 1) ? args[1] : \"\";\r\n        this.alt = (args && args.length > 2) ? args[2] : \"\";\r\n\r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            if(!this.alt || !this.alt.length) {\r\n                const q = source.indexOf(\"?\");\r\n                const t = q < 0 ? source : source.substring(0, q);\r\n                const d = t.lastIndexOf(\"/\");\r\n                this.alt = d < 0 ? t : t.substring(d+1);\r\n            }\r\n        }\r\n    }\r\n    change(event: any) {\r\n        this.onIntoComponentChange.emit({\r\n            id: this.id,\r\n            name: this.name,\r\n            value: this.source,\r\n            item: event.type\r\n        });\r\n    }\r\n}\r\n","/*\r\n* Defines a filter to convert url into an image display. \r\n* if transforming object is an array, all elements in the array will be transformed and the resulting array will be returned.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'image' })\r\nexport class ImagePipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function (content: any, args: string[], callback?: any, data?: any) {\r\n            // image:200px:auto:alttext OR image:200px:alternate-text OR image:200px OR image\r\n            if (args.length > 3) {\r\n                return new ImagePipe().transform(content, args[1], args[2], args[3]);\r\n            } else if (args.length > 2) {\r\n                return new ImagePipe().transform(content, args[1], args[2]);\r\n            } else if (args.length > 1) {\r\n                return new ImagePipe().transform(content, args[1]);\r\n            } else {\r\n                return new ImagePipe().transform(content, \"\");\r\n            }\r\n        };\r\n        return x;\r\n    }\r\n\r\n    stringToImage(source, width, height, alt) {\r\n        if(!alt || !alt.length) {\r\n            const q = source.indexOf(\"?\");\r\n            const t = q < 0 ? source : source.substring(0, q);\r\n            const d = t.lastIndexOf(\"/\");\r\n            alt = d < 0 ? t : t.substring(d+1);\r\n        }\r\n        return \"<img src=\\'\"+source+\"\\' style=\\'\"+ width + height + \"\\' title=\\'\"+alt+\"\\' />\";\r\n    }\r\n    arrayToImage(sources, width, height, alt) {\r\n        const result = [];\r\n        sources.map((source) => {\r\n            result.push(this.stringToImage(source, width, height, alt));\r\n        });\r\n        return result;\r\n    }\r\n    transform(source: any, ...args: any[]): any {\r\n\r\n        const width:string = (args && args.length) ? \"width: \" + args[0] + \";\" : \"\";\r\n        const height:string = (args && args.length > 1) ? \"height: \" + args[1] + \";\" : \"\";\r\n        const alt:string = (args && args.length > 2) ? args[2] : \"\";\r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return this.stringToImage(source, width, height, alt);\r\n        }\r\n        return this.arrayToImage(source, width, height, \"\");\r\n\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ImageComponent } from './image.component';\r\nimport { ImagePipe } from './image.pipe';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [ImageComponent, ImagePipe],\r\n  exports: [ImageComponent, ImagePipe],\r\n  entryComponents: [ImageComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class ImageIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: ImageIntoPipeModule,\r\n      providers: [ImagePipe]\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('image', ImageComponent);\r\n    pool.registerPipeTransformation('image', ImagePipe.transformationMethod());\r\n  }\r\n}\r\n","import { Component, ViewChild, Renderer, Output, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'input-component',\r\n    template: `\r\n    <span *ngIf=\"editName\">\r\n    <input #nameEditor\r\n        type='text' \r\n        [id]=\"id\"\r\n        [name]=\"name\"\r\n        [value]=\"source\"\r\n        [placeholder]=\"placeholder\"\r\n        (blur)=\"blur($event)\" \r\n        (keyup)='keyup($event)'>\r\n    </span>\r\n    <span #nameHolder\r\n        *ngIf='!editName && formatting'\r\n        class='locked' \r\n        tabindex='0' \r\n        (keyup)='keydown($event)'\r\n        (click)=\"clickName($event)\"\r\n        [innerHTML]=\"source ? (source | into:formatting) : '&nbsp;'\">\r\n    </span>\r\n    <span #nameHolder\r\n        *ngIf='!editName && !formatting'\r\n        class='locked' \r\n        tabindex='0' \r\n        (keyup)='keydown($event)'\r\n        (click)=\"clickName($event)\"\r\n        [innerHTML]=\"source ? source : '&nbsp;'\">\r\n    </span>\r\n    `,\r\n    styles: [\r\n        `\r\n        .locked {\r\n          display: inline-block;\r\n          cursor: pointer;\r\n          min-width: 30px;\r\n          -webkit-user-select: none;       \r\n          -moz-user-select: none;\r\n          -ms-user-select: none;\r\n          user-select: none;\r\n          border: 1px solid transparent;\r\n        }\r\n        input {\r\n          cursor: beam;\r\n        }\r\n        :host {display:table;float:left;min-height: 23px}\r\n        :host .locked:hover{border: 1px solid #fabdab;}\r\n        `\r\n    ]\r\n})\r\nexport class InputComponent implements PipeComponent {\r\n\r\n  data: any;\r\n  source: string;\r\n  id: string;\r\n  name: string;\r\n  placeholder: string;\r\n  formatting:string;\r\n  editName = false;\r\n  oldValue: string;\r\n\r\n  @ViewChild(\"nameEditor\")\r\n  nameEditor;\r\n\r\n  @ViewChild(\"nameHolder\")\r\n  nameHolder\r\n\r\n  @Output(\"onIntoComponentChange\")\r\n  onIntoComponentChange = new EventEmitter();\r\n\r\n  constructor(private renderer: Renderer) {\r\n\r\n  }\r\n\r\n  keyup(event) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    const code = event.which;\r\n    if (((code >= 48) && (code <= 90)) ||\r\n        ((code >= 96) && (code <= 111)) ||\r\n        ((code == 32) || (code == 8)) ||\r\n        ((code >= 186) && (code <= 222))) {\r\n          this.source = event.target.value;\r\n    } else if ((code === 13) || (code === 9) || (code === 27) ) {\r\n      this.editName = false;\r\n      if (this.oldValue !== String(this.source)) {\r\n        this.onIntoComponentChange.emit({\r\n          id: this.id,\r\n          name: this.name,\r\n          value: this.source,\r\n          item: this.data\r\n        });\r\n      }\r\n      if (code === 13) {\r\n        setTimeout(()=>{\r\n          if (this.nameHolder) {\r\n            this.renderer.invokeElementMethod(this.nameHolder.nativeElement, \"focus\");\r\n          }\r\n        },66);\r\n      }\r\n    }\r\n  }\r\n  blur(event) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    this.editName = false;\r\n    if (this.oldValue !== String(this.source)) {\r\n      this.onIntoComponentChange.emit({\r\n        id: this.id,\r\n        name: this.name,\r\n        value: this.source,\r\n        item: this.data\r\n      });\r\n    }\r\n  }\r\n\r\n  keydown(event) {\r\n    const code = event.which;\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    if ((code === 13) || (code === 9)) {\r\n      this.renderer.invokeElementMethod(event.target, \"click\");\r\n      setTimeout(()=>{\r\n        if (this.nameEditor) {\r\n          this.renderer.invokeElementMethod(this.nameEditor.nativeElement, \"focus\");\r\n        }\r\n      },66);\r\n\t\t}\r\n  }\r\n\r\n  clickName(event: any) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    this.editName = true;\r\n    this.oldValue = String(this.source);\r\n    setTimeout(() => {\r\n      this.renderer.invokeElementMethod(this.nameEditor.nativeElement, \"focus\");\r\n    },66);\r\n  }\r\n\r\n  transform(source: any, data: any, args: any[]) {\r\n    this.source= source;\r\n    this.data = data;\r\n    this.placeholder= args.length ? args[0] : \"\";\r\n    this.formatting = args.length > 1 ? args[1] : \"\";\r\n  }\r\n}\r\n\r\n","/*\r\n* Defines a filter to append character(s) to a content.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'append' })\r\nexport class AppendPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function (content: any, args: string[], callback?: any, data?: any) {\r\n            // append:something\r\n            return new AppendPipe().transform(content, args.length > 1 ? args[1] : \"\"); \r\n        };\r\n        return x;\r\n    }\r\n    transform(source: any, ...args: any[]): any {    \r\n        const key = ((args && args.length) ? args[0] : \"\");\r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return source + key;\r\n        } else {\r\n            const result = [];\r\n            source.map((item) => {\r\n                result.push(item + key);\r\n            });\r\n            return result;\r\n        } \r\n    }\r\n}\r\n","/*\r\n* Defines a filter to return a transformation argument which should be piped into another transform object\r\n* to transform the object value passed to this pipe.\r\n* the arguments are as follows: 1) condition, 2) value to evaluate the condition, 3) action, 4) else action.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'if' })\r\nexport class ConditionalPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        function split(item: string) {\r\n            return item.trim().match(/(?=\\S)[^\"\\:]*(?:\"[^\\\\\"]*(?:\\\\[\\:\\S][^\\\\\"]*)*\"[^\"\\:]*)*/g).filter(function(x){return x.length});\r\n        }\r\n        const x = function (content: any, args: string[], callback?: any, data?: any) {\r\n            // if:=:true:fa fa-check:fa fa-bell\r\n            const acondition =  args.length > 1 ? args[1] : \"\";\r\n            const value =  args.length > 2 ? args[2] : \"\";\r\n            const action =  args.length > 3 ? args[3] : \"\";\r\n            const altAction =  args.length > 4 ? args[4] : \"\";\r\n            let result = new ConditionalPipe().transform(content, acondition, value, action, altAction);\r\n\r\n            if (typeof result === \"string\") {\r\n                result = result[0] === '\"' ? result.substring(1,result.length-1) : result;\r\n                result = split(result);\r\n                result = callback(content, result, data);\r\n            }\r\n            return result;\r\n        };\r\n        return x;\r\n    }\r\n    conditionFromString(content, acondition, value, action, altAction) {\r\n        let result = \"\";\r\n\r\n        switch(acondition){\r\n            case \"=\" : \r\n                result = content === value ? action : altAction;\r\n                break;\r\n            case \"!=\" : \r\n                result = content !== value ? action : altAction;\r\n                break;\r\n            case \">\" : \r\n                result = content > value ? action : altAction;\r\n                break;\r\n            case \">=\" : \r\n                result = content >= value ? action : altAction;\r\n                break;\r\n            case \"<\" : \r\n                result = content < value ? action : altAction;\r\n                break;\r\n            case \"<=\" : \r\n                result = content <= value ? action : altAction;\r\n                break;\r\n            case \"~\" : \r\n                result = content !== undefined && content !== null && content !== \"null\" ? action : altAction;\r\n                break;\r\n            case \"!~\" : \r\n                result = content === undefined || content === null || content === \"null\" ? action : altAction;\r\n                break;\r\n            case \"~=\" : \r\n                result = content && value && String(content).toLowerCase() === String(value).toLowerCase() ? action : altAction;\r\n                break;\r\n            case \"in\" :\r\n                result = content ? content.indexOf(action) : altAction;\r\n                break;\r\n        }\r\n        return result;\r\n\r\n    }\r\n    transform(source: any, ...args: any[]): any {\r\n        const acondition =  args.length ? args[0] : \"\";\r\n        const value =  args.length > 1 ? args[1] : \"\";\r\n        const action =  args.length > 2 ? args[2] : \"\";\r\n        const altAction =  args.length > 3 ? args[3] : \"\";\r\n\r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return this.conditionFromString(source, acondition, value, action, altAction);\r\n        } else {\r\n            const result = {};\r\n            source.map((item) => {\r\n                result[item] = this.conditionFromString(item, acondition, value, action, altAction);\r\n            });\r\n            return result;\r\n        } \r\n    }\r\n}\r\n","/*\r\n* Defines a filter to join arrays or json attribute values.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'join' })\r\nexport class JoinPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function  (content: any, args: string[], callback?: any, data?: any) {\r\n            //join or join:character\r\n            return new JoinPipe().transform(content, args.length > 1 ? args[1] : \"\");\r\n        };\r\n        return x;\r\n    }\r\n    transform(source: any, ...args: any[]): any {  \r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return source.join(args[0]);\r\n        } else {\r\n            const result = [];\r\n            Object.keys(source).map((key) => {\r\n                result.push(source[key]);\r\n            });\r\n            return result.join(args[0]);\r\n        } \r\n    }\r\n}\r\n","/*\r\n* Defines a filter to take a string as a key and returns value of key from the given map object.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'map' })\r\nexport class MapPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function  (content: any, args: string[], callback?: any, data?: any) {\r\n            // map:key1;value1/key2;value2/key3;value3\r\n            return new MapPipe().transform(content, args.length > 1 ? args[1] : \"\");\r\n        };\r\n        return x;\r\n    }\r\n\r\n    valuesFor(list, map) {\r\n        const result = [];\r\n        list.map((key) => {\r\n            if (map[key]) {\r\n                result.push(map[key]);\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n    geMapping(mapping) {\r\n        const map = mapping;\r\n        if( mapping.trim ) {\r\n            const map ={};\r\n            mapping.split('/').map((key: string) => {\r\n                const x = key.split(';');\r\n                map[x[0]] = x[1];\r\n            });\r\n            mapping = map;      \r\n        }\r\n        return mapping;\r\n    }\r\n    transform(source: any, ...args: any[]): any {\r\n\r\n        const map = this.geMapping((args && args.length) ? args[0] : \"\");\r\n\r\n        return ((typeof source === \"string\") || !(source instanceof Array)) ? \r\n                        map[source] : \r\n                        this.valuesFor(source, map);\r\n    }\r\n}\r\n","/*\r\n* Defines a filter to mask sensitive information. \r\n* if transforming object is an array, all elements in the array will be masked and the resulting array will be returned.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'mask' })\r\nexport class MaskPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function  (content: any, args: string[], callback?: any, data?: any) {\r\n            // mask:4:*  OR mask:4\r\n            if (args.length > 2) {\r\n                return new MaskPipe().transform(content, parseInt(args[1], 10), args[2]);\r\n            }else if (args.length > 1) {\r\n                return  new MaskPipe().transform(content, args[1]);\r\n            } else {\r\n                return  new MaskPipe().transform(content);\r\n            }\r\n        };\r\n        return x;\r\n    }\r\n\r\n    maskString(item, visibleDigits, maskWith) {\r\n        const maskedSection = item  ? item.slice(0, -visibleDigits) : \"\";\r\n        const visibleSection = item ? item.slice(-visibleDigits) : \"\";\r\n\r\n        return item ? maskedSection.replace(/./g, maskWith) + visibleSection : \"\";\r\n    }\r\n    maskArray(items, visibleDigits, maskWith) {\r\n        const result = [];\r\n        items.map((item) => {\r\n            result.push(this.maskString(item, visibleDigits, maskWith));\r\n        });\r\n        return result;\r\n    }\r\n    transform(source: any, ...args: any[]): any {\r\n\r\n        const visibleDigits = (args && args.length) ? args[0] : 4;\r\n        const maskWith = args.length > 1 ? args[1] : '*';\r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return this.maskString(source, visibleDigits, maskWith);\r\n        }\r\n        return this.maskArray(source, visibleDigits, maskWith);\r\n    }\r\n}\r\n","/*\r\n* Defines a filter to prepend character(s) to a content.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'prepend' })\r\nexport class PrependPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function  (content: any, args: string[], callback?: any, data?: any) {\r\n            // prepend:something\r\n            return new PrependPipe().transform(content, args.length > 1 ? args[1] : \"\"); \r\n        };\r\n        return x;\r\n    }\r\n\r\n    transform(source: any, ...args: any[]): any {    \r\n        const key = ((args && args.length) ? args[0] : \"\");\r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return key + source;\r\n        } else {\r\n            const result = [];\r\n            source.map((item) => {\r\n                result.push(key + item);\r\n            });\r\n            return result;\r\n        } \r\n    }\r\n}\r\n","/*\r\n* Takes care of problem with security precausions that strip out certain characters \r\n* from end result of your requests.\r\n* code taken from https://stackoverflow.com/questions/39681163/angular-2-sanitizing-html-stripped-some-content-with-div-id-this-is-bug-or-fe\r\n*/\r\nimport { Pipe, PipeTransform } from \"@angular/core\";\r\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\r\n\r\n@Pipe({\r\n  name: 'sanitizeHtml'\r\n})\r\nexport class SanitizeHtmlPipe implements PipeTransform {\r\n\r\n  constructor(private _sanitizer:DomSanitizer) {\r\n  }\r\n\r\n  transform(v:string):SafeHtml {\r\n    return this._sanitizer.bypassSecurityTrustHtml(v);\r\n  }\r\n}","/*\r\n* Defines a filter to convert a string into a map object.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'valueof' })\r\nexport class ValueOfPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function  (content: any, args: string[], callback?: any, data?: any) {\r\n            // valueof:key\r\n            return new ValueOfPipe().transform(content, args.length > 1 ? args[1] : \"\");\r\n        };\r\n        return x;\r\n    }\r\n\r\n    valueOfSingle(source: any, key: string) {\r\n        return source[key];\r\n    }\r\n    valueOfMultiple(sources: any, key: string) {\r\n        const result = [];\r\n        sources.map((source: any) => {\r\n            result.push(this.valueOfSingle(source, key));\r\n        });\r\n        return result;\r\n    }\r\n    transform(object: any, ...args: any[]): any {\r\n        if ((typeof object === \"string\") || !(object instanceof Array)) {\r\n            return this.valueOfSingle(object, args[0]);\r\n        }\r\n        return this.valueOfMultiple(object, args[0]);\r\n    }\r\n}\r\n","/*\r\n* Defines a filter to wrap a content into character(s).\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'wrap' })\r\nexport class WrapPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function  (content: any, args: string[], callback?: any, data?: any) {\r\n            // wrap:something:something  OR wrap:something\r\n            return new WrapPipe().transform(content, args.length > 1 ? args[1] : \"\", args.length > 2 ? args[2] : args[1]); \r\n        };\r\n        return x;\r\n    }\r\n    transform(source: any, ...args: any[]): any {  \r\n        const pre = (args && args.length) ? args[0] : \"\";\r\n        const post= pre.length ? \r\n                    (args.length > 1 ? args[1] : \"\") : pre;\r\n        \r\n        const key = ((args && args.length) ? args[0] : \"\");\r\n        \r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return pre + source + post;\r\n        } else {\r\n            const result = [];\r\n            source.map((item) => {\r\n                result.push(pre + item + post);\r\n            });\r\n            return result;\r\n        } \r\n    }\r\n}\r\n","import { Pipe, PipeTransform  } from '@angular/core';\r\n\r\nimport {\r\n  DatePipe,\r\n  CurrencyPipe,\r\n  DecimalPipe,\r\n  JsonPipe,\r\n  SlicePipe,\r\n  UpperCasePipe,\r\n  LowerCasePipe\r\n} from '@angular/common';\r\n\r\nimport { ComponentPool } from './component.pool';\r\n\r\n@Pipe({name:'into'})\r\nexport class InToPipe implements PipeTransform{\r\n\r\n  constructor(private pool: ComponentPool) {}\r\n\r\n  transform(content: any, list: string): any {\r\n    let result = content;\r\n    \r\n    list.split(\"|\").map( (item) => {\r\n        result = this._transform(result, this.split(item));\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  private split(item: string) {\r\n      return item.trim().match(/(?=\\S)[^\"\\:]*(?:\"[^\\\\\"]*(?:\\\\[\\:\\S][^\\\\\"]*)*\"[^\"\\:]*)*/g).filter((x)=>x.length);\r\n  }\r\n\r\n  private _transform(content: any, args: string[]) {\r\n    let result = this.pool.registeredPipeTransformation(args[0], content, args, this._transform.bind(this)); \r\n    return result ? result : content;\r\n  }\r\n}\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import {\r\n    Directive,\r\n    ViewContainerRef,\r\n    ElementRef,\r\n    Input,\r\n    OnInit,\r\n\tComponentFactoryResolver\r\n} from '@angular/core';\r\n\r\nimport { PipeComponent } from './pipe.component';\r\nimport { ComponentPool } from './component.pool';\r\n\r\n@Directive({\r\n    selector: '[into]'\r\n})\r\nexport class IntoDirective implements OnInit {\r\n    \r\n    @Input(\"rawContent\")\r\n    rawContent: string;\r\n    \r\n    @Input(\"intoId\")\r\n    intoId: string;\r\n    \r\n    @Input(\"intoName\")\r\n    intoName: string;\r\n    \r\n    @Input(\"intoData\")\r\n    intoData: any;\r\n    \r\n    @Input(\"into\")\r\n    into: string;\r\n\r\n    @Input(\"onComponentChange\")\r\n    onComponentChange = (event) => {};\r\n\r\n    constructor(\r\n        private viewRef: ViewContainerRef,\r\n        public el:ElementRef,\r\n        private pool: ComponentPool,\r\n\t\tprivate componentFactoryResolver: ComponentFactoryResolver\r\n    ) {\r\n    }\r\n    \r\n    private split(item: string) {\r\n        return item.trim().match(/(?=\\S)[^\"\\:]*(?:\"[^\\\\\"]*(?:\\\\[\\:\\S][^\\\\\"]*)*\"[^\"\\:]*)*/g).filter((x)=>x.length);\r\n    }\r\n    \r\n    private _transform(content: any, args: string[], data: any) {\r\n        let result = content;\r\n\r\n        if (this.pool.registeredForComponentWithNamed(args[0])) {\r\n            const newArgs = args.splice(1,args.length);\r\n            result = this.transformComponent(args[0], content, this.intoId, this.intoName, data, ...newArgs); \r\n        } else if (this.pool.registeredForPipeTransformationNamed(args[0])) {\r\n            result = this.pool.registeredPipeTransformation(args[0], content, args, this._transform.bind(this), data); \r\n        } else {\r\n            // unknown formatter\r\n            try {\r\n                result = this.transformComponent(\r\n                    args[0], \r\n                    content, \r\n                    this.intoId, \r\n                    this.intoName, \r\n                    data, \r\n                    args.length > 1 ? args[1] : \"\", \r\n                    args.length > 2 ? args[2] : \"\", \r\n                    args.length > 3 ? args[3] : \"\", \r\n                    args.length > 4 ? args[4] : \"\", \r\n                    args.length > 5 ? args[5] : \"\");\r\n            }catch(x) {\r\n                console.error(x);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private transformComponent(type, content: any, id: string, name: string, data: any,...args: any[]): any {\r\n        let result: any;\r\n        if (content === undefined) {\r\n            return \"\";\r\n        }\r\n        if (content instanceof Date || typeof content === \"string\" || typeof content === \"number\" || typeof content === \"boolean\" || Object.keys(content).length) {\r\n            result =  this.registeredComponentFor(type);\r\n            if (result === null || result === undefined) {\r\n                console.error(\"Custom component '\" + type+ \"' is not defined.\");\r\n            } else {\r\n                result.id = id;\r\n                result.name = name;\r\n                result.service = this.pool.registeredServiceForComponent(type);\r\n                result.transform(content.source ? content.source : content, data, args);\r\n                if (result.onIntoComponentChange && this.onComponentChange) {\r\n                    result.onIntoComponentChange.subscribe(this.onComponentChange);\r\n                }\r\n            }\r\n        } else if (content instanceof Array) {\r\n            let counter = 0;\r\n            result = content;\r\n            content.map((source) => {\r\n                if (typeof source === \"string\" || \r\n                    typeof content === \"number\" || \r\n                    typeof content === \"boolean\" || \r\n                    Object.keys(content).length) {\r\n\r\n                    const sx = this.registeredComponentFor(type);\r\n                    if (sx === null || sx === undefined) {\r\n                        console.error(\"Custom component '\" + type+ \"' is not defined.\");\r\n                    } else {\r\n                        sx.id = id + '-' + (counter++);\r\n                        sx.name = name;\r\n                        sx.service = this.pool.registeredServiceForComponent(type);\r\n                        sx.transform(source.source ? source.source : source, data, args);\r\n                        if (sx.onIntoComponentChange && this.onComponentChange) {\r\n                            sx.onIntoComponentChange.subscribe(this.onComponentChange);\r\n                        }\r\n                    }\r\n                }\r\n            });        \r\n        }\r\n        return result;\r\n\r\n    }\r\n\r\n    private registeredComponentFor(name): PipeComponent {\r\n        return this.pool.registeredComponent(name, this.componentFactoryResolver, this.viewRef, this.el.nativeElement);\r\n    }\r\n    \r\n\tngOnInit() {\r\n\t\tif (this.into || this.rawContent) {\r\n            let result: any =  this.rawContent;\r\n        \r\n            if (this.into) {\r\n                this.into.split(\"|\").map( (item) => {\r\n                    result = this._transform(result, this.split(item), this.intoData);\r\n                });\r\n            }\r\n            if (typeof result === \"string\") {\r\n                const comp: PipeComponent = this.registeredComponentFor(\"span\");\r\n                if (comp)  {\r\n                    comp.transform(result, [], this.intoData);\r\n                } else {\r\n                    console.error(\"Custom component 'span' is not defined.\");\r\n                }\r\n            } else if (result instanceof Array) {\r\n                result.map((source) => {\r\n                    if (typeof source === \"string\") {\r\n                        const comp: PipeComponent = this.registeredComponentFor(\"span\");\r\n                        if (comp)  {\r\n                            comp.transform(source, [], this.intoData);\r\n                        } else {\r\n                            console.error(\"Custom component 'span' is not defined.\");\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { \r\n    CommonModule,\r\n    DatePipe,\r\n    CurrencyPipe,\r\n    DecimalPipe,\r\n    JsonPipe,\r\n    SlicePipe,\r\n    UpperCasePipe,\r\n    LowerCasePipe\r\n} from '@angular/common';\r\n\r\nimport {AppendPipe} from './append.pipe';\r\nimport {ConditionalPipe} from './conditional.pipe';\r\nimport {JoinPipe} from './join.pipe';\r\nimport {MapPipe} from './map.pipe';\r\nimport {MaskPipe} from './mask.pipe';\r\nimport {PrependPipe} from './prepend.pipe';\r\nimport {SanitizeHtmlPipe} from './sanitizeHtml.pipe';\r\nimport {ValueOfPipe} from './valueof.pipe';\r\nimport {WrapPipe} from './wrap.pipe';\r\nimport { InToPipe } from './into.pipe';\r\nimport { IntoDirective } from './into.directive'\r\nimport { ComponentPool } from './component.pool';\r\n\r\n\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule\r\n  ],\r\n  declarations: [\r\n    AppendPipe,\r\n    ConditionalPipe,\r\n    JoinPipe,\r\n    MapPipe,\r\n    MaskPipe,\r\n    PrependPipe,\r\n    SanitizeHtmlPipe,\r\n    ValueOfPipe,\r\n    WrapPipe,\r\n    InToPipe,\r\n    IntoDirective\r\n  ],\r\n  exports: [\r\n    AppendPipe,\r\n    ConditionalPipe,\r\n    JoinPipe,\r\n    MapPipe,\r\n    MaskPipe,\r\n    PrependPipe,\r\n    SanitizeHtmlPipe,\r\n    ValueOfPipe,\r\n    WrapPipe,\r\n    InToPipe,\r\n    IntoDirective\r\n  ],\r\n  entryComponents: [],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class CommonPipesModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: CommonPipesModule,\r\n      providers: [\r\n        DatePipe,\r\n        CurrencyPipe,\r\n        DecimalPipe,\r\n        JsonPipe,\r\n        SlicePipe,\r\n        UpperCasePipe,\r\n        LowerCasePipe,\r\n    \r\n        AppendPipe,\r\n        ConditionalPipe,\r\n        JoinPipe,\r\n        MapPipe,\r\n        MaskPipe,\r\n        PrependPipe,\r\n        SanitizeHtmlPipe,\r\n        ValueOfPipe,\r\n        WrapPipe,\r\n        ComponentPool,\r\n        InToPipe\r\n      ]\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerPipeTransformation('append', AppendPipe.transformationMethod());\r\n    pool.registerPipeTransformation('if', ConditionalPipe.transformationMethod());\r\n    pool.registerPipeTransformation('join', JoinPipe.transformationMethod());\r\n    pool.registerPipeTransformation('map', MapPipe.transformationMethod());\r\n    pool.registerPipeTransformation('mask', MaskPipe.transformationMethod());\r\n    pool.registerPipeTransformation('prepend', PrependPipe.transformationMethod());\r\n    pool.registerPipeTransformation('valueof', ValueOfPipe.transformationMethod());\r\n    pool.registerPipeTransformation('wrap', WrapPipe.transformationMethod());\r\n\r\n    pool.registerPipeTransformation('slice',\r\n      (content: any, args: string[], callback?: any, data?: any) => {\r\n        // slice 5:12 OR slice 5\r\n        let result: any;\r\n        let start = parseInt(args[1], 10);\r\n        let end = undefined;\r\n        if (args.length > 2) {\r\n            end= parseInt(args[2], 10);\r\n        }\r\n        const slicer =new SlicePipe();\r\n        if ((typeof content === \"string\") || !(content instanceof Array)) {\r\n            result = end ? slicer.transform(content, start, end) : slicer.transform(content, start);\r\n        } else {\r\n            result = [];\r\n            content.map((cnt) => {\r\n                result.push(end ? slicer.transform(cnt, start, end) : slicer.transform(cnt, start));\r\n            });\r\n        }\r\n        return result;\r\n      }\r\n    );\r\n\r\n    pool.registerPipeTransformation('number',\r\n      (content: any, args: string[], callback?: any, data?: any) => {\r\n        // number:en_US:2   or number:en_US or number\r\n        let result: any;\r\n        let numLocal = \"en_US\";\r\n        let numDecimal= undefined;\r\n        if (args.length > 2) {\r\n            numLocal = args[1];\r\n            numDecimal= args[2];\r\n        }\r\n        const decimaler =new DecimalPipe(numLocal);\r\n        if ((typeof content === \"string\") || !(content instanceof Array)) {\r\n            result = numDecimal ? decimaler.transform(content, numDecimal) : decimaler.transform(content);\r\n        } else {\r\n            result = [];\r\n            content.map((cnt) => {\r\n                result.push(numDecimal ? decimaler.transform(cnt, numDecimal) : decimaler.transform(cnt));\r\n            });\r\n        }\r\n        return result;\r\n      }\r\n    );\r\n\r\n    pool.registerPipeTransformation('currency',\r\n      (content: any, args: string[], callback?: any, data?: any) => {\r\n        // currency:en_US or currency\r\n        let result: any;\r\n        const cp = new CurrencyPipe(args.length > 1 ? args[1] : \"en_US\");\r\n        if ((typeof content === \"string\") || !(content instanceof Array)) {\r\n            result = cp.transform(content);\r\n        } else {\r\n            result = [];\r\n            content.map((cnt) => {\r\n                result.push(cp.transform(cnt));\r\n            });\r\n        }\r\n        return result;\r\n      }\r\n    );\r\n\r\n    pool.registerPipeTransformation('lowercase',\r\n      (content: any, args: string[], callback?: any, data?: any) => {\r\n        // lowercase\r\n        let result: any;\r\n        const lcp =  new LowerCasePipe();\r\n        if ((typeof content === \"string\") || !(content instanceof Array)) {\r\n            result = lcp.transform(content);\r\n        } else {\r\n            result = [];\r\n            content.map((cnt) => {\r\n                result.push(lcp.transform(cnt));\r\n            });\r\n        }\r\n        return result;\r\n      }\r\n    );\r\n\r\n    pool.registerPipeTransformation('uppercase',\r\n      (content: any, args: string[], callback?: any, data?: any) => {\r\n        // uppercase\r\n        let result: any;\r\n        const ucp =  new UpperCasePipe();\r\n        if ((typeof content === \"string\") || !(content instanceof Array)) {\r\n            result = ucp.transform(content);\r\n        } else {\r\n            result = [];\r\n            content.map((cnt) => {\r\n                result.push(ucp.transform(cnt));\r\n            });\r\n        }\r\n        return result;\r\n      }\r\n    );\r\n\r\n    pool.registerPipeTransformation('json',\r\n      (content: any, args: string[], callback?: any, data?: any) => {\r\n        // json\r\n        let result: any;\r\n        const jcp =  new JsonPipe();\r\n        if ((typeof content === \"string\") || !(content instanceof Array)) {\r\n            result = jcp.transform(content);\r\n        } else {\r\n            result = [];\r\n            content.map((cnt) => {\r\n                result.push(jcp.transform(cnt));\r\n            });\r\n        }\r\n        return result;\r\n      }\r\n    );\r\n\r\n    pool.registerPipeTransformation('date',\r\n      (content: any, args: string[], callback?: any, data?: any) => {\r\n        // date:en_US:MMddyy OR date:\\\"MM/dd/yyyy hh:ss\\\"\r\n        // const date = ((typeof content === \"string\") || !(content instanceof Array)) ? new Date(content) : content;\r\n        let result: any;\r\n        let dateLocal = \"en_US\";\r\n        let dateFormat= args[1];\r\n        if (args.length > 2) {\r\n            dateLocal = args[1];\r\n            dateFormat= args[2];\r\n        }\r\n        const dater =new DatePipe(dateLocal);\r\n        if ((typeof content === \"string\") || !(content instanceof Array)) {\r\n            result = dater.transform(content);\r\n        } else {\r\n            result = [];\r\n            content.map((cnt) => {\r\n                result.push(dater.transform(cnt));\r\n            });\r\n        }\r\n        return result;\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { InputComponent } from './input.component';\r\nimport { ComponentPool } from '../common/component.pool';\r\nimport { CommonPipesModule } from '../common/common-pipes.module';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, CommonPipesModule.forRoot()],\r\n  declarations: [InputComponent],\r\n  exports: [InputComponent],\r\n  entryComponents: [InputComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class InputIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: InputIntoPipeModule,\r\n      providers: []\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('input', InputComponent);\r\n  }\r\n}\r\n","import { Component, Renderer, Output, EventEmitter } from '@angular/core';\r\nimport { PipeComponent, PipeServiceComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'input-group-component',\r\n    template: `\r\n    <span class=\"input-group-item\" *ngFor=\"let x of options; let i = index\">\r\n        <input \r\n            [type]=\"type\" \r\n            [id]=\"name + i\" \r\n            [name]=\"name + (type === 'radio' ? '' : i)\" \r\n            [value]=\"x.value ? x.value : x\" \r\n            [checked]=\"isSelected(x)\"\r\n            (click)=\"click($event)\"/>\r\n        <label [for]=\"name + i\" [textContent]=\"x.label ? x.label : x\"></label>\r\n    </span>\r\n    `,\r\n    styles: [\r\n        `\r\n        :host {display:table;float:left;min-height: 23px}\r\n        `\r\n    ]\r\n})\r\nexport class InputGroupComponent implements PipeComponent {\r\n\r\n  data: any;\r\n  source: any;\r\n  options: string;\r\n  id: string;\r\n  name: string;\r\n  type: string;\r\n  service: PipeServiceComponent;\r\n\r\n  @Output(\"onIntoComponentChange\")\r\n  onIntoComponentChange = new EventEmitter();\r\n\r\n  constructor(private renderer: Renderer) {}\r\n\r\n  click(event) {\r\n    event.stopPropagation();\r\n\r\n    if (this.type === 'radio') {\r\n      this.source = event.target.value;\r\n    } else {\r\n      const i = this.source.indexOf(event.target.value);\r\n      if (event.target.checked) {\r\n        if (i < 0) {\r\n          this.source.push(event.target.value);\r\n        }\r\n      } else {\r\n        this.source.splice(i,1);\r\n      }\r\n    }\r\n\r\n    this.onIntoComponentChange.emit({\r\n      id: this.id,\r\n      name: this.name,\r\n      value: this.source,\r\n      item: this.data\r\n    });\r\n  }\r\n  isSelected(item) {\r\n    const xitem = item.value ? item.value : item;\r\n    if (this.type === 'radio') {\r\n      return xitem === this.source;\r\n    }\r\n    let found = false;\r\n    this.source.map((x) => {\r\n      if (xitem === x) {\r\n        found = true;\r\n      }\r\n    });\r\n    return found;\r\n  }\r\n\r\n  transform(source: any, data: any, args: any[]) {\r\n    this.source= source;\r\n    this.data = data;\r\n    this.options = this.service.getDataFor(this.name, this.id, data);\r\n    this.type = (source instanceof Array) ? 'checkbox' : 'radio';\r\n  }\r\n}\r\n\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { InputGroupComponent } from './input-group.component';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [InputGroupComponent],\r\n  exports: [InputGroupComponent],\r\n  entryComponents: [InputGroupComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class InputGroupIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: InputGroupIntoPipeModule,\r\n      providers: []\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('inputgroup', InputGroupComponent);\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'json-component',\r\n    template: `<span class=\"json-view\" [textContent]=\"source | json\"></span>`,\r\n    styles: [\r\n        `\r\n        :host {display:table;float:left;min-height: 23px}\r\n        .json-view {\r\n            display: inline-block;\r\n            float: left;\r\n            font-family: monospace;\r\n            padding: 5px;\r\n            white-space: pre-wrap;\r\n            unicode-bidi: embed;        \r\n        }\r\n        `\r\n    ]\r\n})\r\nexport class JsonComponent implements PipeComponent {\r\n\tid: string;\r\n\tname: string;\r\n    source: string;\r\n\tonIntoComponentChange: EventEmitter<any>;\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n        this.source = source\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders , Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { JsonComponent } from './json.component';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [JsonComponent],\r\n  exports: [JsonComponent],\r\n  entryComponents: [JsonComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class JsonIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: JsonIntoPipeModule,\r\n      providers: []\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('json', JsonComponent);\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'lastupdate-component',\r\n    template: `\r\n    <span *ngIf=\"showIcon\" class=\"fa fa-clock-o\" aria-hidden=\"true\"></span>\r\n    <span [textContent]=\"formatDate()\"></span>\r\n    `,\r\n    styles: [\r\n        `\r\n        :host {display:table;float:left;min-height: 23px;position: relative}\r\n        .fa {margin:0 5px 0 0}\r\n        `\r\n    ]\r\n})\r\nexport class LastUpdateComponent implements PipeComponent {\r\n    source: any;\r\n\tid: string;\r\n    name: string;\r\n    showIcon: boolean;\r\n    \r\n    \r\n    count: string;\r\n\tonIntoComponentChange: EventEmitter<any>;\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n        this.source = source;\r\n        this.showIcon = (args && args.length && args[0] === 'true');\r\n    }\r\n\r\n    formatDate() {\r\n\t\tconst currentDate = new Date();\r\n\t\tconst minute = 60000;// one minute\r\n\t\tconst hour = 3600000;// one hour limit\r\n\t\tconst day = 86400000;// 24 hours limit\r\n\t\tconst week = 604800000;// 7 days limit\r\n\t\tconst month = 604800000*4;// 7 days limit\r\n\t\tconst year = 604800000*52;// 7 days limit\r\n\t\tlet result = \"\";\r\n\r\n\t\tlet diff = currentDate.getTime() - this.source.getTime();\r\n\r\n\t\tif(diff <= minute) {// up to a minute\r\n\t\t\tresult = \"seconds ago\";\r\n\t\t}else if(diff <= hour) {// up to an hour\r\n\t\t\tlet minutes = Math.floor(diff/minute);\r\n\t\t\tlet seconds = Math.floor((diff - (minutes * minute))/1000);\r\n\r\n\t\t\tresult = (minutes < 2 ? \"a minute\" : minutes + \" minutes \") + (seconds > 0 ? \" and \" + seconds + \" seconds ago\" : \" ago\");\r\n\t\t}else if(diff <= day) {// up to a day\r\n\t\t\tlet hours = Math.floor(diff/hour);\r\n\t\t\tlet minutes = Math.floor((diff - (hours * hour))/minute);\r\n\t\t\t\r\n\t\t\tresult = (hours < 2 ? \"an hour\" : hours + \" hours \") + (minutes > 0 ? \" and \" + minutes + \" minutes ago\" : \" ago\");\r\n\t\t}else if(diff <= week) {// up to a week\r\n\t\t\tlet days = Math.floor(diff/day);\r\n\t\t\tlet hours = Math.floor((diff - (days * day))/hour);\r\n\r\n\t\t\tresult = (days < 2 ? \"a day\" : days + \" days \") + (hours > 0 ? \" and \" + hours + \" hours ago\" : \" ago\");\r\n\t\t}else if(diff <= month) {// up to a month\r\n\t\t\tlet weeks = Math.floor(diff/week);\r\n\t\t\tlet days = Math.floor((diff - (weeks * week))/day);\r\n\r\n\t\t\tresult = (weeks < 2 ? \"a week\" : weeks + \" weeks \") + (days > 0 ? \" and \" + days + \" days ago\" : \" ago\");\r\n\t\t}else if(diff <= year) {// up to a week\r\n\t\t\tlet months = Math.floor(diff/month);\r\n\t\t\tlet weeks = Math.floor((diff - (months * month))/week);\r\n\r\n\t\t\tresult = (months < 2 ? \"a month\" : months + \" months \") + (weeks > 0 ? \" and \" + weeks + \" weeks ago\" : \" ago\");\r\n\t\t} else {\r\n\t\t\tlet years = Math.floor(diff/year);\r\n\t\t\tlet months = Math.floor((diff - (years * year))/month);\r\n\r\n\t\t\tresult = (years < 2 ? \"a year\" : years + \" years \") + (months > 0 ? \" and \" + months + \" months ago\" : \" ago\");\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { LastUpdateComponent } from './lastupdate.component';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [LastUpdateComponent],\r\n  exports: [LastUpdateComponent],\r\n  entryComponents: [LastUpdateComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class LastUpdateIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: LastUpdateIntoPipeModule,\r\n      providers: []\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('lastupdate', LastUpdateComponent);\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'like-component',\r\n    template: `\r\n    <a \r\n        id='like-{{id}}' \r\n        tabindex=\"0\" \r\n        class=\"like\" \r\n        [class.selected]=\"selected\" \r\n        (keyup)=\"keyup($event)\" \r\n        (click)='toggleCount($event)'>\r\n        <span class=\"fa fa-thumbs-up\" *ngIf=\"thumbsup && !selected\" aria-hidden=\"true\"></span>\r\n        <span class=\"fa fa-thumbs-up selected\" *ngIf=\"thumbsup && selected\" aria-hidden=\"true\"></span>\r\n        <span class=\"fa fa-thumbs-down\" *ngIf=\"!thumbsup && !selected\" aria-hidden=\"true\"></span>\r\n        <span class=\"fa fa-thumbs-down selected\" *ngIf=\"!thumbsup && selected\" aria-hidden=\"true\"></span>\r\n        <span class=\"counts\" *ngIf=\"showCount\" [textContent]=\"formatterSource()\"></span>\r\n    </a>`,\r\n    styles: [\r\n        `\r\n        :host {display:table;float:left;min-height: 23px;position: relative}\r\n        .like {cursor: pointer;}\r\n        .like .counts{margin-left: 5px;}\r\n        .like .fa {margin: 0;}\r\n        .like .fa.selected {color: green;}\r\n        .like:hover, .like:hover .fa, .like:hover .fa.selected{color: #fabdab;}\r\n        `\r\n    ]\r\n})\r\nexport class LikeComponent implements PipeComponent {\r\n    source: any;\r\n    id: string;\r\n    data: any;\r\n\tname: string;\r\n    showCount: boolean;\r\n    thumbsup: boolean;\r\n    selected: boolean;\r\n    key: string;\r\n    thumbs = \"\";\r\n\tonIntoComponentChange = new EventEmitter();\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n        this.source = source;\r\n        this.data = data;\r\n        this.showCount = (args && args.length && args[0] === 'true');\r\n        this.thumbsup = (args && args.length > 1 && args[1] === 'true');\r\n        this.key = (args && args.length > 2) ? args[2] : \"\";\r\n        this.thumbs = this.thumbsup ? \"thumbs-up-items\" : \"thumbs-down-items\";\r\n        this.selected = (this.getItem(this.data[this.key]) !== null);\r\n      }\r\n    keyup(event) {\r\n        const code = event.which;\r\n    \r\n        if (code === 13) {\r\n          event.target.click();\r\n        }\r\n    }\r\n    private addItem(id: string) {\r\n        const saved = localStorage.getItem(this.thumbs);\r\n        if (saved) {\r\n          const savedItems = JSON.parse(saved);\r\n          savedItems.push(id);\r\n          localStorage.setItem(this.thumbs, JSON.stringify(savedItems));\r\n        } else {\r\n          localStorage.setItem(this.thumbs, JSON.stringify([id]));\r\n        }\r\n        this.source ++;\r\n    }\r\n    private removeItem(id: string) {\r\n        const saved = localStorage.getItem(this.thumbs);\r\n        if (saved) {\r\n          const savedItems = JSON.parse(saved);\r\n          const i = savedItems.indexOf(id);\r\n          savedItems.splice(i, 1);\r\n    \r\n          localStorage.setItem(this.thumbs, JSON.stringify(savedItems));\r\n          this.source --;\r\n        }\r\n    }\r\n    private getItem(id: string) {\r\n        const saved = localStorage.getItem(this.thumbs);\r\n        let found = null;\r\n    \r\n        if (saved) {\r\n          const savedItems: any[] = JSON.parse(saved);\r\n          const i = savedItems.indexOf(id);\r\n    \r\n          found = i < 0 ? null : savedItems[i];\r\n        }\r\n        return found;\r\n      }\r\n      formatterSource() {\r\n          let result = this.source;\r\n          if (this.source > 1000) {\r\n              result = (this.source/1000).toFixed(1) + \" k\"\r\n          }\r\n          return result;\r\n      }\r\n      toggleCount(event) {\r\n        this.selected = !this.selected;\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        \r\n        if (this.selected) {\r\n          const existing = this.getItem(this.data[this.key]);\r\n          if (!existing) {\r\n            this.addItem(this.data[this.key]);\r\n          }\r\n        } else {\r\n          this.removeItem(this.data[this.key]);\r\n        }\r\n        this.onIntoComponentChange.emit({\r\n            id: this.id,\r\n            name: this.name,\r\n            value: this.source,\r\n            item: this.data,\r\n            selected: this.selected,\r\n            action: this.thumbs\r\n        });\r\n      }\r\n    }","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { LikeComponent } from './like.component';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [LikeComponent],\r\n  exports: [LikeComponent],\r\n  entryComponents: [LikeComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class LikeIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: LikeIntoPipeModule,\r\n      providers: []\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('like', LikeComponent);\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'link-component',\r\n    template: `\r\n    <a [href]=\"source\" \r\n        [target]=\"target\" \r\n        [textContent]=\"title\" \r\n        (keyup)='keyup($event)' \r\n        (click)=\"change($event)\"></a>`,\r\n    styles: [\r\n        `\r\n        :host {display:table;float:left;min-height: 23px}\r\n        `\r\n    ]\r\n})\r\nexport class LinkComponent implements PipeComponent {\r\n    source: string;\r\n\tid: string;\r\n\tname: string;\r\n    title: string;\r\n    target: string;\r\n\tonIntoComponentChange = new EventEmitter();\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n        this.source = source;\r\n        this.target = (args && args.length) ? args[0] : \"\";\r\n        this.title = (args && args.length > 1) ? args[1] : \"\";\r\n    \r\n        if(!this.title || !this.title.length) {\r\n            const q = source.indexOf(\"?\");\r\n            const t = q < 0 ? source : source.substring(0, q);\r\n            const d = t.lastIndexOf(\"/\");\r\n            this.title = d < 0 ? t : t.substring(d+1);\r\n        }\r\n    }\r\n    keyup(event: any) {\r\n        const code = event.which;\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n    \r\n        if (code === 13) {\r\n            event.target.click();\r\n        }\r\n    }\r\n    change(event: any) {\r\n        this.onIntoComponentChange.emit({\r\n            id: this.id,\r\n            name: this.name,\r\n            value: this.source,\r\n            item: event.type\r\n        });\r\n    }\r\n}\r\n","/*\r\n* Defines a filter to convert url into a link.\r\n* if transforming object is an array, all elements in the array will be transformed and the resulting array will be returned.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'link' })\r\nexport class LinkPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function  (content: any, args: string[], callback?: any, data?: any) {\r\n            // link:target:text or link:text or link\r\n            if (args.length > 2) {\r\n                return new LinkPipe().transform(content, args[1], args[2]);\r\n            } else if (args.length > 1) {\r\n                return new LinkPipe().transform(content, \"\", args[1]);\r\n            } else {\r\n                return new LinkPipe().transform(content, \"\", \"\");\r\n            }\r\n        };\r\n        return x;\r\n    }\r\n\r\n    stringToLink(source, target, title) {\r\n        if(!title || !title.length) {\r\n            const q = source.indexOf(\"?\");\r\n            const t = q < 0 ? source : source.substring(0, q);\r\n            const d = t.lastIndexOf(\"/\");\r\n            title = d < 0 ? t : t.substring(d+1);\r\n        }\r\n        return \"<a href='\"+source+\"' target='\"+target+\"'>\"+title+\"</a>\";\r\n    }\r\n    arrayToImagLink(sources, target, title) {\r\n        const result = [];\r\n        sources.map((source) => {\r\n            result.push(this.stringToLink(source, target, \"\"));\r\n        });\r\n        return result;\r\n    }\r\n    transform(source: any, ...args: any[]): any {\r\n\r\n        const target:string = (args && args.length) ? args[0] : \"\";\r\n        const title:string = (args && args.length > 1) ? args[1] : \"\";\r\n    \r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return this.stringToLink(source, target, title);\r\n        }\r\n        return this.arrayToImagLink(source, target, title);\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { LinkComponent } from './link.component';\r\nimport { LinkPipe } from './link.pipe';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [LinkComponent,LinkPipe],\r\n  exports: [LinkComponent,LinkPipe],\r\n  entryComponents: [LinkComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class LinkIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: LinkIntoPipeModule,\r\n      providers: [LinkPipe]\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('link', LinkComponent);\r\n    pool.registerPipeTransformation('link', LinkPipe.transformationMethod());\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'phone',\r\n    template: `\r\n    <a  *ngIf=\"isLink\" [href]=\"'tel:' + normalizeSource()\" (keyup)='keyup($event)' (click)=\"change($event)\">\r\n        <span class='fa fa-phone' aria-hidden='true'></span>\r\n        <span [textContent]=\"formattedSource()\"></span>\r\n    </a>\r\n    <span *ngIf=\"!isLink\">\r\n        <span class='fa fa-phone' aria-hidden='true'></span>\r\n        <span [textContent]=\"formattedSource()\"></span>\r\n    </span>\r\n    `,\r\n    styles: [\r\n        `\r\n        :host {display:table;float:left;min-height: 23px}\r\n        :host a:hover .fa-phone{color: #fabdab;}\r\n        :host .fa{margin: 0 5px;}\r\n        `\r\n    ]\r\n})\r\nexport class PhoneComponent implements PipeComponent {\r\n    source: string;\r\n\tid: string;\r\n    name: string;\r\n    isLink: boolean;\r\n    formatting: boolean;\r\n\tonIntoComponentChange = new EventEmitter();\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n        this.source = source;\r\n        this.isLink= args.length ? args[0] === 'true' : false;\r\n        this.formatting= args.length > 1 ? args[1] === 'true' : false;\r\n    }\r\n    normalizeSource() {\r\n        let result = this.source.replace(/[\\ \\-\\.\\(\\)\\+]/g, '');\r\n        result = result[0] === '1' ? result.substring(1) : result;\r\n\r\n        if (result.length === 10) {\r\n            result = '+1 ' + result + ';ext=' + result;\r\n        } else if (result.length > 10) {\r\n            const b = result.slice(0, 10);\r\n            const e = result.slice(10);\r\n            result = '+1' + b + ';ext=' + e;\r\n        }\r\n        return result;\r\n    }\r\n    formattedSource() {\r\n        let result = this.source;\r\n        \r\n        if (this.formatting) {\r\n            result = this.source.replace(/[\\ \\-\\.\\(\\)\\+]/g, '');\r\n            result = result[0] === '1' ? result.substring(1) : result;\r\n\r\n            if (result.length === 10) {\r\n                result = '+1 ' + result.replace(/(\\d{3})(\\d{3})(\\d{4})/, \"($1)$2-$3\"); \r\n            } else if (result.length > 10) {\r\n                const b = result.slice(0, 10);\r\n                const e = result.slice(10);\r\n                result = '+1 ' + b.replace(/(\\d{3})(\\d{3})(\\d{4})/, \"($1)$2-$3\"); \r\n                result+= (' ext. ' + e);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    keyup(event: any) {\r\n        const code = event.which;\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n    \r\n        if (code === 13) {\r\n            event.target.click();\r\n        }\r\n    }\r\n    change(event: any) {\r\n        this.onIntoComponentChange.emit({\r\n            id: this.id,\r\n            name: this.name,\r\n            value: this.source,\r\n            item: event.type\r\n        });\r\n    }\r\n}\r\n","/*\r\n* Defines a filter to convert url into an email display.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'phone' })\r\nexport class PhonePipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function  (content: any, args: string[], callback?: any, data?: any) {\r\n            // prepend:something\r\n            return new PhonePipe().transform(content, args.length > 1 ? args[1]==='true' : false, args.length > 2 ? args[2] === 'true' : false); \r\n        };\r\n        return x;\r\n    }\r\n\r\n    phoneFromString(source, link, format) {\r\n        return link ? \r\n            \"<a href='tel:\" + this.normalizeSource(source) + \"'><span class='fa fa-phone' aria-hidden='true'></span><span>\" + (format ? this.formattedSource(source) : source) + \"</span></a>\" :\r\n            \"<span><span class='fa fa-phone' style='margin: 0 5px' aria-hidden='true'></span><span>\" + (format ? this.formattedSource(source) : source) + \"</span></span>\";\r\n    }\r\n    transform(source: any, ...args: any[]): any {    \r\n        const link = ((args && args.length) ? args[0] : false);\r\n        const format = ((args && args.length>1) ? args[1] : false);\r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return this.phoneFromString(source, link, format);\r\n        } else {\r\n            const result = [];\r\n            source.map((item) => {\r\n                result.push(this.phoneFromString(item, link, format));\r\n            });\r\n            return result;\r\n        } \r\n    }\r\n    private normalizeSource(source: string) {\r\n        let result = source.replace(/[\\ \\-\\.\\(\\)\\+]/g, '');\r\n        result = result[0] === '1' ? result.substring(1) : result;\r\n\r\n        if (result.length === 10) {\r\n            result = '+1 ' + result + ';ext=' + result;\r\n        } else if (result.length > 10) {\r\n            const b = result.slice(0, 10);\r\n            const e = result.slice(10);\r\n            result = '+1' + b + ';ext=' + e;\r\n        }\r\n        return result;\r\n    }\r\n    private formattedSource(source: string) {\r\n        let result = source.replace(/[\\ \\-\\.\\(\\)\\+]/g, '');\r\n        result = result[0] === '1' ? result.substring(1) : result;\r\n\r\n        if (result.length === 10) {\r\n            result = '+1 ' + result.replace(/(\\d{3})(\\d{3})(\\d{4})/, \"($1)$2-$3\"); \r\n        } else if (result.length > 10) {\r\n            const b = result.slice(0, 10);\r\n            const e = result.slice(10);\r\n            result = '+1 ' + b.replace(/(\\d{3})(\\d{3})(\\d{4})/, \"($1)$2-$3\"); \r\n            result+= (' ext. ' + e);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { PhoneComponent } from './phone.component';\r\nimport { PhonePipe } from './phone.pipe';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [PhoneComponent, PhonePipe],\r\n  exports: [PhoneComponent, PhonePipe],\r\n  entryComponents: [PhoneComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class PhoneIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: PhoneIntoPipeModule,\r\n      providers: [PhonePipe]\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('phone', PhoneComponent);\r\n    pool.registerPipeTransformation('phone', PhonePipe.transformationMethod());\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'rating-component',\r\n    template: `\r\n    <span class='rating'>\r\n        <span class='fa fa-star' aria-hidden='true' *ngFor=\"let x of value\"></span>\r\n        <span class='fa fa-star-half' aria-hidden='true' *ngIf=\"float != value\"></span>\r\n    </span>\r\n    <span class='rate-value' [textContent]=\"source\"></span>\r\n    `,\r\n    styles: [\r\n        `\r\n        :host {display:table;float:left;min-height: 23px}\r\n        .rating {\r\n            display: inline-block;\r\n        }\r\n        `\r\n    ]\r\n})\r\nexport class RatingComponent implements PipeComponent {\r\n    source: string;\r\n\tid: string;\r\n\tname: string;\r\n    value: any[] = [];\r\n    float: any;\r\n\tonIntoComponentChange: EventEmitter<any>;\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n        this.float = parseFloat(source);\r\n        this.source = source;\r\n        const size = parseInt(source, 10);\r\n        for(let i = 0; i < size; i++) {\r\n            this.value.push(i);\r\n        }\r\n    }\r\n}\r\n","/*\r\n* Defines a filter to convert url into a raiting display.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'raiting' })\r\nexport class RatingPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function  (content: any, args: string[], callback?: any, data?: any) {\r\n            return new RatingPipe().transform(content, \"\"); \r\n        };\r\n        return x;\r\n    }\r\n    rateString(source) {\r\n        const value = parseInt(source, 10);\r\n        const float = parseFloat(source);\r\n\r\n        let x = \"<span class='rating'>\";\r\n        for (let i = 0; i < value; i++ ) {\r\n            x += \"<span class='fa fa-star' aria-hidden='true'></span>\"\r\n        }\r\n        if ( float !== value ) {\r\n            x += \"<span class='fa fa-star-half' aria-hidden='true'></span>\"\r\n        }\r\n        x += \"</span><span class='rate-value'>\" + source + \"</span>\";\r\n\r\n        return x;\r\n    }\r\n\r\n    transform(source: any, ...args: any[]): any {\r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return this.rateString(source);\r\n        } else {\r\n            const result = [];\r\n            source.map((item) => {\r\n                result.push(this.rateString(item));\r\n            });\r\n            return result;                \r\n        }\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { RatingComponent } from './rating.component';\r\nimport { RatingPipe } from './rating.pipe';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [RatingComponent, RatingPipe],\r\n  exports: [RatingComponent, RatingPipe],\r\n  entryComponents: [RatingComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class RatingIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: RatingIntoPipeModule,\r\n      providers: [RatingPipe]\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('rating', RatingComponent);\r\n    pool.registerPipeTransformation('rating', RatingPipe.transformationMethod());\r\n  }\r\n}\r\n","import { Component, Output, EventEmitter } from '@angular/core';\r\nimport { PipeComponent, PipeServiceComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'select-component',\r\n    template: `\r\n    <select tabindex=\"0\" [multiple]=\"multiselect ? true:null\" (click)=\"click($event)\" (change)=\"change($event)\">\r\n        <option *ngFor=\"let x of options\" [selected]=\"source === x ? true : null\"  [value]=\"x\" [textContent]=\"x\"></option>\r\n    </select>\r\n    `,\r\n    styles: [\r\n        `\r\n        :host {display:table;float:left;min-height: 23px}\r\n        `\r\n    ]\r\n})\r\nexport class SelectComponent implements PipeComponent {\r\n\r\n  data: any;\r\n  source: string;\r\n  options: string;\r\n  id: string;\r\n  name: string;\r\n  multiselect = false;\r\n  service: PipeServiceComponent;\r\n\r\n  @Output(\"onIntoComponentChange\")\r\n  onIntoComponentChange = new EventEmitter();\r\n\r\n  constructor() {}\r\n\r\n  click(event) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n  }\r\n  change(event) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    this.source = event.target.value;\r\n    this.onIntoComponentChange.emit({\r\n      id: this.id,\r\n      name: this.name,\r\n      value: this.source,\r\n      item: this.data\r\n    });\r\n  }\r\n\r\n  transform(source: any, data: any, args: any[]) {\r\n    this.source= source;\r\n    this.data = data;\r\n    this.options = this.service.getDataFor(this.name, this.id, data);\r\n    this.multiselect = args.length ? args[0] === true : false;\r\n  }\r\n}\r\n\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { SelectComponent } from './select.component';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [SelectComponent],\r\n  exports: [SelectComponent],\r\n  entryComponents: [SelectComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class SelectIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: SelectIntoPipeModule,\r\n      providers: []\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('select', SelectComponent);\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'share-component',\r\n    template: `\r\n    <a id='share-comment-{{id}}' \r\n        tabindex=\"0\" \r\n        class='share-item-tips' \r\n        (keyup)='keyup($event)'\r\n        (click)='toggleShare()'>\r\n    <span class=\"fa fa-share-alt\"></span>\r\n    <span class=\"share\">share</span>\r\n    </a>\r\n    <span id='share-comment-{{id}}-tips' class='tips' *ngIf='shouldDisplay'>\r\n      <span class='social-referal'>\r\n        <a *ngFor=\"let share of shareList\" \r\n            (keyup)='keyup($event)'\r\n            (click)='change(share)'\r\n            [class]='share.icon' target='_blank' \r\n            [href]='share.href'><span class='off-screen' [textContent]=\"share.title\"></span></a>\r\n      </span>\r\n    </span>\r\n`,\r\n    styles: [`\r\n    :host {display:table;float:left;min-height: 23px;position: relative}\r\n    .share-item-tips {cursor: pointer;}\r\n    .share-item-tips:hover {color: #fabdab;}\r\n    .share-item-tips .fa {margin: 0;}\r\n    .share-item-tips:hover .fa{color: #fabdab;}\r\n    .share-item-tips .share{margin-left: 5px;}\r\n    .tips {\r\n        position: absolute;\r\n        display: flex;\r\n        flex-direction: row;\r\n        padding: 5px;\r\n        border: 1px solid #aaa;\r\n        border-radius: 2px;\r\n        background-color: #fff;\r\n        z-index: 2;\r\n    }\r\n    .tips .social-referal {\r\n        display: flex;\r\n        flex-direction: row;\r\n    }\r\n    .tips .social-referal .fa {\r\n        float: left;\r\n        padding: 2px 4px;\r\n        color: blue;\r\n        border: 1px solid #ccc;\r\n        border-radius: 4px;\r\n        text-decoration: none;\r\n        margin: 0 1px;\r\n        width: 20px;\r\n        text-align: center;\r\n    }\r\n    .tips .social-referal .fa:hover {\r\n        color: #fff;\r\n        background-color: blue;\r\n    }\r\n    `]\r\n})\r\nexport class ShareComponent implements PipeComponent {\r\n    shouldDisplay = false;\r\n    source: string; // it should be a link reference to what is being shared.\r\n\tid: string;\r\n    name: string;\r\n    shareList = []; // list of sites to show on share view.\r\n    \r\n\tonIntoComponentChange = new EventEmitter();\r\n    \r\n    private shareInfo(type, address) {\r\n        return {\r\n            icon: 'fa fa-' + type,\r\n            href: address,\r\n            title: 'share with '+ type\r\n        }\r\n    }\r\n    keyup(event) {\r\n        const code = event.which;\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n    \r\n        if (code === 13) {\r\n            event.target.click();\r\n        }\r\n    }\r\n    change(event: any) {\r\n        this.onIntoComponentChange.emit({\r\n            id: this.id,\r\n            name: this.name,\r\n            value: this.source,\r\n            item: event.title\r\n        });\r\n    }\r\n    toggleShare() {\r\n        this.shouldDisplay = !this.shouldDisplay;\r\n        this.onIntoComponentChange.emit({\r\n            id: this.id,\r\n            name: this.name,\r\n            value: 'Share options',\r\n            item: this.shouldDisplay ? 'open' : 'close'\r\n        });\r\n    }  \r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n\r\n        this.source = source;\r\n        const list = (args[0] instanceof Array) ? args[0] : args;\r\n        list.map( (arg) => {\r\n            if ( arg === 'facebook') {\r\n                this.shareList.push(this.shareInfo('facebook', 'http://www.facebook.com/sharer.php?u='+source))\r\n            } else if ( arg === 'twitter') {\r\n                this.shareList.push(this.shareInfo('twitter', 'https://twitter.com/share?title=&amp;url='+source))\r\n            } else if ( arg === 'linkedin') {\r\n                this.shareList.push(this.shareInfo('linkedin','http://www.linkedin.com/shareArticle?title=&amp;url='+source))\r\n            } else if ( arg === 'google') {\r\n                this.shareList.push(this.shareInfo('google-plus', 'https://plus.google.com/share?url='+source))\r\n            } else if ( arg === 'pinterest') {\r\n                this.shareList.push(this.shareInfo('google-plus', 'http://pinterest.com/pin/create/link/?url='+source))\r\n            } else if ( arg === 'digg') {\r\n                this.shareList.push(this.shareInfo('digg', 'http://digg.com/submit?url='+source))\r\n            } else if ( arg === 'get-pocket') {\r\n                this.shareList.push(this.shareInfo('get-pocket', 'https://getpocket.com/edit?url='+source))\r\n            } else if ( arg === 'xing') {\r\n                this.shareList.push(this.shareInfo('xing', 'https://www.xing.com/app/user?op=share&url='+source))\r\n            } else if ( arg === 'stumbleupon') {\r\n                this.shareList.push(this.shareInfo('stumbleupon', 'http://www.stumbleupon.com/submit?url='+source))\r\n            }\r\n        });\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ShareComponent } from './share.component';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [ShareComponent],\r\n  exports: [ShareComponent],\r\n  entryComponents: [ShareComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class ShareIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: ShareIntoPipeModule,\r\n      providers: []\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('share', ShareComponent);\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'span-component',\r\n    template: `<span [textContent]=\"source\"></span>`,\r\n    styles: [\r\n        `\r\n        :host {display:table;float:left;min-height: 23px}\r\n        `\r\n    ]\r\n})\r\nexport class SpanComponent implements PipeComponent {\r\n\tid: string;\r\n\tname: string;\r\n    source: string;\r\n\tonIntoComponentChange: EventEmitter<any>;\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n        this.source = source\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { SpanComponent } from './span.component';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [SpanComponent],\r\n  exports: [SpanComponent],\r\n  entryComponents: [SpanComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class SpanIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: SpanIntoPipeModule,\r\n      providers: []\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('span', SpanComponent);\r\n  }\r\n}\r\n","import { Component, ViewChild, Renderer, Output, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'text-component',\r\n    template: `\r\n    <span class=\"text-wrapper\" *ngIf=\"editName\">\r\n      <textarea #nameEditor\r\n        [id]=\"id\"\r\n        [name]=\"name\"\r\n        [value]=\"source\"\r\n        [attr.maxlength]=\"limit ? limit : null\"\r\n        [rows]=\"rows\"\r\n        (blur)=\"blur($event)\" \r\n        (keyup)='keyup($event)'></textarea>\r\n      <span *ngIf=\"counter\" class=\"counter\" \r\n        [textContent]=\"limit ? (limit - source.length) + ' remaining' : source.length + ' typed'\"></span>\r\n    </span>\r\n    <span #nameHolder\r\n        *ngIf='!editName'\r\n        class='locked' \r\n        tabindex='0' \r\n        (click)='click($event)'\r\n        (keyup)='focus($event)'\r\n        [innerHTML]=\"source\">\r\n    </span>\r\n    `,\r\n    styles: [\r\n        `\r\n        .locked {\r\n          display: block;\r\n          cursor: pointer;\r\n          min-height: 23px;\r\n          min-width: 33px;\r\n          -webkit-user-select: none;       \r\n          -moz-user-select: none;\r\n          -ms-user-select: none;\r\n          user-select: none;\r\n          border: 1px solid transparent;\r\n        }\r\n        .text-wrapper{box-sizing: border-box;display:table;width: 100%;}\r\n        .text-wrapper textarea {box-sizing: border-box;display:block;cursor: beam;width: 100%;}\r\n        .counter{display: table;float:right;color: #ddd;}\r\n        :host {box-sizing: border-box;width: 100%;display:table;float:left;min-height: 23px;min-width: 33px;}\r\n        :host .locked:hover{border: 1px solid #fabdab;}\r\n        `\r\n    ]\r\n})\r\nexport class TextComponent implements PipeComponent {\r\n\r\n  source: string;\r\n  id: string;\r\n  name: string;\r\n  rows = 4;\r\n  limit = 0;\r\n  editName = false;\r\n  counter = false;\r\n  oldValue: string;\r\n\r\n  @ViewChild(\"nameEditor\")\r\n  nameEditor;\r\n\r\n  @ViewChild(\"nameHolder\")\r\n  nameHolder\r\n\r\n  @Output(\"onIntoComponentChange\")\r\n  onIntoComponentChange = new EventEmitter();\r\n\r\n  constructor(private renderer: Renderer) {\r\n\r\n  }\r\n  keyup(event: any) {    \r\n    const code = event.which;\r\n    if ((code === 48) || (code === 8)) {\r\n      this.source = event.target.value;\r\n    } else if (((code > 48) && (code <= 90)) ||\r\n        ((code >= 96) && (code <= 111)) || (code == 32) ||\r\n        ((code >= 186) && (code <= 222))) {\r\n          if (!this.limit || this.source.length < this.limit) {\r\n            this.source = event.target.value;\r\n          }\r\n    } else if ((code === 13) || (code === 9) || (code === 27) ) {\r\n      this.editName = false;\r\n\r\n      if (this.oldValue !== String(this.source)) {\r\n        this.onIntoComponentChange.emit({\r\n          id: this.id,\r\n          name: this.name,\r\n          value: this.source,\r\n          item: this.oldValue\r\n        });\r\n        this.oldValue = String(this.source);\r\n      }\r\n      if (code === 13) {\r\n        setTimeout(()=>{\r\n          if (this.nameHolder) {\r\n            this.renderer.invokeElementMethod(this.nameHolder.nativeElement, \"focus\");\r\n          }\r\n        },99);\r\n      }\r\n    }\r\n  }\r\n  blur(event: any) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n\r\n    this.editName = false;\r\n    if (this.oldValue !== String(this.source)) {\r\n      this.onIntoComponentChange.emit({\r\n        id: this.id,\r\n        name: this.name,\r\n        value: this.source,\r\n        item: this.oldValue\r\n      });\r\n      this.oldValue = String(this.source);\r\n    }\r\n  }\r\n  focus(event: any) {\r\n    const code = event.which;\r\n    if (code === 13) {\r\n      event.target.click();\r\n    }\r\n  }\r\n  click(event: any) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n  \r\n    this.editName = true;\r\n    setTimeout(()=>{\r\n      if (this.nameEditor) {\r\n        this.renderer.invokeElementMethod(this.nameEditor.nativeElement, \"focus\");\r\n      }\r\n    },99);\r\n}\r\n\r\n  transform(source: any, data: any, args: any[]) {\r\n    this.source = source;\r\n    this.oldValue = source;\r\n    this.rows = args.length ? args[0] : 4;\r\n    this.limit = args.length > 1 ? args[1] : 0;\r\n    this.counter = args.length > 2 ? args[2] : false;\r\n  }\r\n}\r\n\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TextComponent } from './text.component';\r\nimport { ComponentPool } from '../common/component.pool';\r\nimport { CommonPipesModule } from '../common/common-pipes.module';\r\n\r\n@NgModule({\r\n  imports: [CommonModule, CommonPipesModule.forRoot()],\r\n  declarations: [TextComponent],\r\n  exports: [TextComponent],\r\n  entryComponents: [TextComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class TextIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: TextIntoPipeModule,\r\n      providers: []\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('text', TextComponent);\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'table-component',\r\n    template: `\r\n    <table [id]=\"id\" class=\"piped-table\">\r\n        <caption *ngIf=\"name\" [textContent]=\"name\"></caption>\r\n        <tr><th scope=\"col\" *ngFor=\"let header of headers\" [textContent]=\"header\"></th></tr>\r\n        <tr *ngFor=\"let row of rows\"><td *ngFor=\"let header of headers\" [textContent]=\"row[header]\"></td></tr>\r\n    </table>\r\n    `,\r\n    styles: [\r\n        `\r\n        :host .piped-table {padding: 0;width: 100%;border-collapse: collapse;}\r\n        :host .piped-table caption {background-color: #c3e5e2;border-radius: 2px;color: #1b1b1b;caption-side: top;font-size: 14px;padding: 5px 6px;margin-bottom: 15px;text-align: left;}\r\n        :host .piped-table th {user-select: none;height: 24px;position: relative;white-space: nowrap;font-weight: normal;text-transform: uppercase;font-size: 14px;padding-top: 6px;padding-bottom: 6px;text-align: left;}\r\n        :host .piped-table td {padding-left: 3px;min-height: 21px;}\r\n        `\r\n    ]\r\n})\r\nexport class TableComponent implements PipeComponent {\r\n    source: string;\r\n    id: string;\r\n    name: string;\r\n    headers = [];\r\n    rows = [];\r\n\tonIntoComponentChange = new EventEmitter();\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n        this.source= source;\r\n        this.id= args.length ? args[0] : '';\r\n        this.name= args.length > 1 ? args[1] : undefined;\r\n\r\n        if (typeof source === 'object') {\r\n            this.rows.push(source);\r\n            this.getHeaders(source);\r\n        } else if (source instanceof Array) {\r\n            if (typeof source[0] === 'object') {\r\n                this.rows = source;\r\n                this.getHeaders(source[0]);\r\n            } else {\r\n                source.map(\r\n                    (item) => {\r\n                        this.rows.push({value: item});\r\n                    }\r\n                )\r\n                this.headers.push('value');\r\n            }\r\n        } else {\r\n            this.rows.push({value: source});\r\n            this.headers.push('value');\r\n        }\r\n    }\r\n    private getHeaders(obj: any) {\r\n        Object.keys(obj).map(\r\n            (item) => {\r\n                this.headers.push(item);\r\n            }\r\n        );\r\n    }\r\n}\r\n","/*\r\n* Defines a filter to convert url into an address display.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'table' })\r\nexport class TablePipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function (content: any, args: string[], callback?: any, data?: any) {\r\n            return new TablePipe().transform(content, args.length > 1 ? args[1] : '', args.length > 2 ? args[2] : undefined); \r\n        };\r\n        return x;\r\n    }\r\n    transform(source: any, ...args: any[]): any {\r\n        const id= args.length ? args[0] : '';\r\n        const name = args.length > 1 ? args[1] : undefined;\r\n        const headers = [];\r\n        const rows = [];\r\n\r\n        this.buildTable(source, rows, headers);\r\n        let result = \"<table style='width: 100%' id='\" + id + \"'>\" + (name ? \"<caption style='text-align:left;background-color: #c3e5e2;'>\" + name + \"</caption>\" : \"\") + \"<tr>\";\r\n        headers.map(\r\n            (header) => {\r\n                result += (\"<th style='text-align: left;font-weight:normal;text-transform: uppercase;' scope='col'>\" + header + \"</th>\");\r\n            }\r\n        );\r\n        result += \"</tr>\";\r\n        rows.map(\r\n            (row) => {\r\n                result += \"<tr>\";\r\n                headers.map(\r\n                    (header) => {\r\n                        result += (\"<td>\" + row[header] + \"</td>\");\r\n                    }\r\n                );\r\n                result += \"</tr>\";\r\n            }\r\n        );\r\n        result += \"</table>\";\r\n\r\n        return result;\r\n    }\r\n    private buildTable(source: any, rows: any[], headers: string[]) {\r\n        if (typeof source === 'object') {\r\n            rows.push(source);\r\n            this.getHeaders(source, headers);\r\n        } else if (source instanceof Array) {\r\n            if (typeof source[0] === 'object') {\r\n                rows = source;\r\n                this.getHeaders(source[0], headers);\r\n            } else {\r\n                source.map(\r\n                    (item) => {\r\n                        rows.push({value: item});\r\n                    }\r\n                )\r\n                headers.push('value');\r\n            }\r\n        } else {\r\n            rows.push({value: source});\r\n            headers.push('value');\r\n        }\r\n    }\r\n    private getHeaders(obj: any, headers: string[]) {\r\n        Object.keys(obj).map(\r\n            (item) => {\r\n                headers.push(item);\r\n            }\r\n        );\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { TableComponent } from './table.component';\r\nimport { TablePipe } from './table.pipe';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [TableComponent, TablePipe],\r\n  exports: [TableComponent, TablePipe],\r\n  entryComponents: [TableComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class TableIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: TableIntoPipeModule,\r\n      providers: [\r\n        TablePipe\r\n      ]\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool) pool: ComponentPool) {\r\n    pool.registerComponent('table', TableComponent);\r\n    pool.registerPipeTransformation('table', TablePipe.transformationMethod());\r\n  }\r\n}\r\n","import { Component, EventEmitter } from '@angular/core';\r\nimport { PipeComponent } from '../common/pipe.component';\r\n\r\n@Component({\r\n    selector: 'video-component',\r\n    template: `\r\n    <video controls=\"true\" \r\n        (playing)=\"change($event)\"\r\n        (ended)=\"change($event)\"\r\n        (pause)=\"change($event)\"\r\n        (seeked)=\"change($event)\"\r\n        (error)=\"change($event)\"\r\n        [src]=\"source\" \r\n        [style.width]=\"width\" \r\n        [style.height]=\"height\"\r\n        [title]=\"alt\"></video>\r\n    `,\r\n    styles: [`\r\n    :host {display:table;float:left;min-height: 23px}\r\n    `]\r\n})\r\nexport class VideoComponent implements PipeComponent {\r\n    source: string;\r\n\tid: string;\r\n\tname: string;\r\n    width: string;\r\n    height: string;\r\n    alt: string;\r\n\tonIntoComponentChange = new EventEmitter();\r\n\r\n    transform(source: any, data: any, args: any[]) {\r\n\r\n        this.source = source;\r\n        this.width = (args && args.length) ? args[0] : \"\";\r\n        this.height = (args && args.length > 1) ? args[1] : \"\";\r\n        this.alt = (args && args.length > 2) ? args[2] : \"\";\r\n\r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            if(!this.alt || !this.alt.length) {\r\n                const q = source.indexOf(\"?\");\r\n                const t = q < 0 ? source : source.substring(0, q);\r\n                const d = t.lastIndexOf(\"/\");\r\n                this.alt = d < 0 ? t : t.substring(d+1);\r\n            }\r\n        }\r\n    }\r\n    change(event: any) {\r\n        this.onIntoComponentChange.emit({\r\n            id: this.id,\r\n            name: this.name,\r\n            value: this.source,\r\n            type: event.type,\r\n            item: {\r\n                autoplay: event.target.autoplay,\r\n                controls: event.target.controls,\r\n                duration: event.target.duration,\r\n                ended: event.target.ended,\r\n                error: event.target.error,\r\n                paused: event.target.paused,\r\n                muted: event.target.muted,\r\n                currentTime: event.target.currentTime,\r\n                volume: event.target.volume\r\n            }\r\n        });\r\n    }\r\n}\r\n","/*\r\n* Defines a filter to convert url into an image display. \r\n* if transforming object is an array, all elements in the array will be transformed and the resulting array will be returned.\r\n*/\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({ name: 'video' })\r\nexport class VideoPipe implements PipeTransform {\r\n    static transformationMethod() {\r\n        const x = function  (content: any, args: string[], callback?: any, data?: any) {\r\n            // video:200px:auto:alttext OR video:200px:alternate-text OR video:200px OR video\r\n            if (args.length > 3) {\r\n                return new VideoPipe().transform(content, args[1], args[2], args[3]);\r\n            } else if (args.length > 2) {\r\n                return new VideoPipe().transform(content, args[1], args[2]);\r\n            } else if (args.length > 1) {\r\n                return new VideoPipe().transform(content, args[1]);\r\n            } else {\r\n                return new VideoPipe().transform(content, \"\");\r\n            }\r\n        };\r\n        return x;\r\n    }\r\n\r\n    stringToVideo(source, width, height, alt) {\r\n        if(!alt || !alt.length) {\r\n            const q = source.indexOf(\"?\");\r\n            const t = q < 0 ? source : source.substring(0, q);\r\n            const d = t.lastIndexOf(\"/\");\r\n            alt = d < 0 ? t : t.substring(d+1);\r\n        }\r\n        return \"<video src=\\'\"+source+\"\\' style=\\'\"+ width + height + \"\\' title=\\'\"+alt+\"\\'  controls=\\'true\\' />\";\r\n    }\r\n    arrayToVideo(sources, width, height, alt) {\r\n        const result = [];\r\n        sources.map((source) => {\r\n            result.push(this.stringToVideo(source, width, height, alt));\r\n        });\r\n        return result;\r\n    }\r\n    transform(source: any, ...args: any[]): any {\r\n\r\n        const width:string = (args && args.length) ? \"width: \" + args[0] + \";\" : \"\";\r\n        const height:string = (args && args.length > 1) ? \"height: \" + args[1] + \";\" : \"\";\r\n        const alt:string = (args && args.length > 2) ? args[2] : \"\";\r\n        if ((typeof source === \"string\") || !(source instanceof Array)) {\r\n            return this.stringToVideo(source, width, height, alt);\r\n        }\r\n        return this.arrayToVideo(source, width, height, \"\");\r\n\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders, Inject, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { VideoComponent } from './video.component';\r\nimport { VideoPipe } from './video.pipe';\r\nimport { ComponentPool } from '../common/component.pool';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [VideoComponent, VideoPipe],\r\n  exports: [VideoComponent, VideoPipe],\r\n  entryComponents: [VideoComponent],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class VideoIntoPipeModule {\r\n  static forRoot(): ModuleWithProviders {\r\n    return {\r\n      ngModule: VideoIntoPipeModule,\r\n      providers: [VideoPipe]\r\n    }\r\n  }\r\n  constructor(@Inject(ComponentPool)  pool: ComponentPool) {\r\n    pool.registerComponent('video', VideoComponent);\r\n    pool.registerPipeTransformation('video', VideoPipe.transformationMethod());\r\n  }\r\n}\r\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { CommonPipesModule } from './common/common-pipes.module';\r\n\r\nimport { AddressIntoPipeModule } from './address/addess-pipe.module';\r\nimport { AudioIntoPipeModule } from './audio/audio-pipe.module';\r\nimport { CalendarIntoPipeModule } from './calendar/calendar-pipe.module';\r\nimport { CheckboxIntoPipeModule } from './checkbox/checkbox-pipe.module';\r\nimport { EmailIntoPipeModule } from './email/email-pipe.module';\r\nimport { FontIntoPipeModule } from './font/font-pipe.module';\r\nimport { ImageIntoPipeModule } from './image/image-pipe.module';\r\nimport { InputIntoPipeModule } from './input/input-pipe.module';\r\nimport { InputGroupIntoPipeModule } from './inputgroup/inputgroup-pipe.module';\r\nimport { JsonIntoPipeModule } from './json/json-pipe.module';\r\nimport { LastUpdateIntoPipeModule } from './lastupdate/lastupdate-pipe.module';\r\nimport { LikeIntoPipeModule } from './like/like-pipe.module';\r\nimport { LinkIntoPipeModule } from './link/link-pipe.module';\r\nimport { PhoneIntoPipeModule } from './phone/phone-pipe.module';\r\nimport { RatingIntoPipeModule } from './rating/rating-pipe.module';\r\nimport { SelectIntoPipeModule } from './select/select-pipe.module';\r\nimport { ShareIntoPipeModule } from './share/share-pipe.module';\r\nimport { SpanIntoPipeModule } from './span/span-pipe.module';\r\nimport { TableIntoPipeModule } from './table/table-pipe.module';\r\nimport { TextIntoPipeModule } from './text/text-pipe.module';\r\nimport { VideoIntoPipeModule } from './video/video-pipe.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    CommonPipesModule.forRoot(),\r\n    AddressIntoPipeModule.forRoot(),\r\n    AudioIntoPipeModule.forRoot(),\r\n    CalendarIntoPipeModule.forRoot(),\r\n    CheckboxIntoPipeModule.forRoot(),\r\n    EmailIntoPipeModule.forRoot(),\r\n    FontIntoPipeModule.forRoot(),\r\n    ImageIntoPipeModule.forRoot(),\r\n    InputIntoPipeModule.forRoot(),\r\n    InputGroupIntoPipeModule.forRoot(),\r\n    JsonIntoPipeModule.forRoot(),\r\n    LastUpdateIntoPipeModule.forRoot(),\r\n    LikeIntoPipeModule.forRoot(),\r\n    LinkIntoPipeModule.forRoot(),\r\n    PhoneIntoPipeModule.forRoot(),\r\n    RatingIntoPipeModule.forRoot(),\r\n    SelectIntoPipeModule.forRoot(),\r\n    ShareIntoPipeModule.forRoot(),\r\n    SpanIntoPipeModule.forRoot(),\r\n    TableIntoPipeModule.forRoot(),\r\n    TextIntoPipeModule.forRoot(),\r\n    VideoIntoPipeModule.forRoot()\r\n  ],\r\n  declarations: [],\r\n  exports: [\r\n    CommonPipesModule,\r\n    AddressIntoPipeModule,\r\n    AudioIntoPipeModule,\r\n    CalendarIntoPipeModule,\r\n    CheckboxIntoPipeModule,\r\n    EmailIntoPipeModule,\r\n    FontIntoPipeModule,\r\n    ImageIntoPipeModule,\r\n    InputIntoPipeModule,\r\n    InputGroupIntoPipeModule,\r\n    JsonIntoPipeModule,\r\n    LastUpdateIntoPipeModule,\r\n    LikeIntoPipeModule,\r\n    LinkIntoPipeModule,\r\n    PhoneIntoPipeModule,\r\n    RatingIntoPipeModule,\r\n    SelectIntoPipeModule,\r\n    ShareIntoPipeModule,\r\n    SpanIntoPipeModule,\r\n    TableIntoPipeModule,\r\n    TableIntoPipeModule,\r\n    TextIntoPipeModule,\r\n    VideoIntoPipeModule\r\n  ],\r\n  entryComponents: [],\r\n  providers: [\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\n\r\nexport class IntoPipeModule {\r\n}\r\n"]}